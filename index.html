<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic English Course</title>
<style>
    /* 1. Estilos Gerais */
    body {
        font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #FFFFFF; 
        color: #333;
    }

    /* 2. Layout da Grade de Cards e Spacing */
    #home-screen {
        max-width: 1200px; 
        margin: 60px auto 50px; 
        padding: 0 30px;
    }
    
    h2 {
        color: #333; 
        border-bottom: 1px solid #e0e0e0; 
        padding-top: 10px; 
        padding-bottom: 25px; 
        margin-bottom: 15px; 
        font-size: 2.2em; 
        font-weight: 500;
    }
    .chapter-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr); 
        gap: 15px;
    }
    
    @media (max-width: 1024px) {
        .chapter-grid {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
    }

    /* 3. Estilos do Card */
    .chapter-card {
        background-color: #f7f7f7;
        border-radius: 6px; 
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); 
        cursor: pointer;
        height: 240px; 
        position: relative; 
        overflow: hidden;
        transition: box-shadow 0.2s ease;
    }
    .chapter-card:hover {
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }
    
    .card-background-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        z-index: 1;
    }

    .card-text-area {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 30%; 
        padding: 15px;
        z-index: 2; 
        transition: height 0.3s ease, background 0.3s ease, color 0.3s ease;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%); 
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
    }

    .chapter-card:hover .card-text-area {
        height: 50%;
        background: #FFFFFF; 
        justify-content: space-between; 
        padding: 15px; 
        align-items: flex-start; 
    }
    
    .text-content-wrapper {
        transition: transform 0.3s ease;
        text-align: left; 
        width: 100%; 
        box-sizing: border-box; 
    }

    .chapter-card:hover .text-content-wrapper { 
        transform: translateY(-5px);
    }

    .chapter-card h3 {
        margin-top: 0;
        font-size: 1.3em;
        margin-bottom: 5px;
        color: white; 
        transition: color 0.3s ease;
    }

    .chapter-card p {
        margin: 0;
        font-size: 0.8em;
        color: #ddd; 
        transition: color 0.3s ease;
    }
    
    .chapter-card:hover .card-text-area h3,
    .chapter-card:hover .card-text-area p {
        color: #000;
    }

    .start-button {
        background-color: #003366; 
        color: white;
        padding: 10px 22px;
        border: none;
        border-radius: 5px; 
        cursor: pointer;
        font-weight: bold;
        font-size: 1em; 
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transform: scale(0.9); 
        transition: opacity 0.3s ease, transform 0.3s ease, background-color 0.2s ease;
        align-self: flex-start;
    }

    .chapter-card:hover .start-button {
        opacity: 1; 
        transform: scale(1);
    }
    
    .start-button:hover {
        background-color: #004c99;
    }
    
    /* 4. Lesson/Quiz Screen */
    #lesson-screen {
        max-width: 650px;
        margin: 70px auto 40px; 
        padding: 30px;
        background-color: #FFFFFF; 
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.05); 
        display: none;
        position: relative; 
    }
    
    /* Hotspot for Topic 5 */
    .hotspot {
        position: absolute;
        width: 35px; 
        height: 35px;
        background-color: #ffffff; 
        border: 2px solid #333; 
        color: #333; 
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.8em; 
        font-weight: 500;
        cursor: pointer;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        z-index: 5;
        transition: transform 0.2s, background-color 0.2s;
        line-height: 0.8; 
    }
    
    .hotspot:hover {
        background-color: #f0f0f0;
        transform: scale(1.1);
    }

    /* Fixed Navigation Buttons (Right Corner) */
    .nav-buttons {
        position: fixed;
        top: 20px; 
        right: 20px; 
        z-index: 1000; 
        display: none; 
        gap: 10px; 
        align-items: center;
    }
    
    /* Back and Next Button Style */
    .nav-buttons button {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        color: white;
        background-color: #007bff;
        transition: background-color 0.2s;
    }
    
    .nav-buttons button:hover {
        background-color: #0056b3;
    }
    
    /* Progress Indicator */
    #progress-indicator {
        font-weight: 400;
        color: #333;
        font-size: 0.95em; 
        margin-right: 15px; 
    }

    /* Hamburger Menu Button (Top Left) */
    .menu-toggle {
        display: none;
        position: fixed; 
        top: 20px;
        left: 20px; 
        font-size: 2.2em; 
        background: none; 
        border: none;
        cursor: pointer;
        color: #333; 
        line-height: 1;
        padding: 5px 10px; 
        z-index: 1001; 
        transition: color 0.2s ease, background-color 0.2s ease;
        border-radius: 4px;
    }

    .menu-toggle:hover {
        color: #555; 
        background-color: #f0f0f0;
    }

    /* Side Menu (Left Side) */
    .side-menu {
        height: 100%;
        width: 0; 
        position: fixed; 
        z-index: 1000; 
        top: 0;
        left: 0;
        background-color: #ffffff;
        overflow-x: hidden; 
        transition: 0.3s; 
        padding-top: 60px;
        box-shadow: 2px 0 10px rgba(0,0,0,0.1); 
        border-right: 1px solid #eee;
        overflow-y: auto;
    }

    .side-menu.open {
        width: 280px;
    }

    .side-menu a {
        padding: 15px 25px; 
        text-decoration: none;
        font-size: 1.1em; 
        color: #333; 
        display: block;
        transition: 0.3s;
        border-bottom: 1px solid #f0f0f0; 
        font-weight: 400;
    }

    .side-menu a:hover {
        background-color: #f6f9fc; 
        color: #007bff;
    }

    .side-menu .close-btn {
        position: absolute;
        top: 0;
        right: 15px;
        font-size: 36px;
        margin-left: 50px;
        color: #aaa;
        cursor: pointer;
    }

    /* Content Styles */
    .quiz-question img {
        max-width: 100%;
        height: auto; 
        display: block;
        margin: 15px auto;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .quiz-question {
        padding: 20px;
        border: 1px solid #eee;
        border-radius: 10px;
        margin-bottom: 25px;
        text-align: center;
        background-color: #fcfcfc;
        position: relative;
    }
    
    #question-text {
        font-size: 1.4em;
        font-weight: 500;
        margin-bottom: 10px;
    }
    
    .option {
        padding: 15px;
        margin: 12px 0;
        border-radius: 8px;
        border: 1px solid #ddd;
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
        text-align: left;
    }
    
    /* NOVO ESTILO: Bordas elegantes para M√∫ltipla Escolha */
    .option.selected { border-color: #007bff; background-color: #f5f9ff; }
    .option.correct { border: 3px solid #28a745 !important; background-color: #e6ffed !important; font-weight: bold; }
    .option.incorrect { border: 3px solid #dc3545 !important; background-color: #ffe6e6 !important; font-weight: bold; }

    /* Pronunciation and Audio Styles */
    #pronunciation-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-top: 15px;
        border: 1px solid #ddd; 
        padding: 25px;
        border-radius: 10px;
    }
    .word-to-practice { font-size: 1.2em; font-weight: 700; margin-bottom: 20px; color: #333; }
    
    #audio-player-controls {
        width: 100%;
        max-width: 400px; 
        margin-bottom: 20px; 
    }
    
    #pronunciation-list { list-style: none; padding: 0; margin-top: 15px;
        width: 100%; max-width: 400px; text-align: left; }
    #pronunciation-list li { padding: 10px; border-bottom: 1px dotted #e0e0e0;
        display: flex; justify-content: space-between; align-items: center; font-size: 1.1em; }
    .play-button { background: none; border: none; font-size: 1.5em;
        cursor: pointer; color: #007bff; margin-left: 10px; transition: color 0.1s; }

    /* T√≥pico 3 e 5 - Table Styles */
    .info-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05); 
        border-radius: 10px; 
        overflow: hidden;
    }
    
    /* MODIFICA√á√ÉO T√≥pico 3: Tabela de Vocabul√°rio menor e ajustes de cor */
    .lesson-vocabulary .info-table {
        margin: 10px auto;
        max-width: 400px; 
        border-radius: 6px;
        box-shadow: none; 
    }
    
    .lesson-vocabulary .info-table tr {
        border: 1px solid #e0e0e0;
        margin-bottom: 8px;
        display: block; 
        border-radius: 4px;
        overflow: hidden;
        transition: background-color 0.2s;
    }
    
    .lesson-vocabulary .info-table tr:hover {
        background-color: #f6f9fc;
    }
    
    .lesson-vocabulary .info-table th, .lesson-vocabulary .info-table td {
        padding: 10px 12px;
        /* Padding reduzido */
        text-align: left;
        border: none;
    }
    
    .lesson-vocabulary h3 {
        color: #333 !important;
        /* NOVO: Cinza Escuro */
        text-align: center;
        /* NOVO: Centralizado */
    }

    /* MODIFICA√á√ÉO T√≥pico 5: Modal de N√∫meros com escrita e n√∫mero separados */
    .modal-content .info-table {
        max-width: 250px;
        margin: 0 auto; 
        font-size: 0.9em; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        border: 1px solid #ddd;
    }
    
    .modal-content .info-table th {
        background-color: #f7f7f7;
        color: #333;
        font-weight: 600;
    }
    
    .modal-content .info-table td {
        padding: 8px 10px;
    }
    
    .modal-content .info-table td:first-child {
        font-weight: 700;
        /* Letras mais grossas */
        border-right: 1px solid #eee;
        /* Linha de separa√ß√£o */
    }


    /* Estilo para a coluna de palavras (Topic 3) */
    .info-table td.sentence-cell {
        font-weight: 400;
        color: #333; 
    }
    .info-table td.sentence-cell .highlight {
        font-weight: bold;
        color: #007bff; 
    }


    /* Topic 6 Comparison Table Styles */
    .comparison-table {
        width: 100%;
        max-width: 400px;
        border-collapse: collapse;
        margin: 20px auto;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .comparison-table th, .comparison-table td {
        border: 1px solid #ddd;
        padding: 10px; 
        text-align: center;
        font-size: 1em; 
    }
    .comparison-table th {
        background-color: #f2f2f2;
        color: #333;
    }
    .comparison-table tr:nth-child(even) {
        background-color: #fff;
    }
    .comparison-table tr:nth-child(odd) {
        background-color: #f9f9f9;
    }
    
    /* Topic 7 (FILL_IN_BLANKS) Styles */
    .fill-in-blanks-container {
        display: flex;
        flex-direction: column; 
        align-items: center; 
        gap: 4px; 
        padding: 5px 0; 
    }

    .number-input-group {
        display: flex;
        flex-direction: column; 
        align-items: flex-start;
        gap: 2px; 
        width: 80%; 
        max-width: 200px; 
        padding: 3px; 
        border: 1px solid #eee;
        border-radius: 6px;
        background-color: #f9f9f9;
        transition: background-color 0.2s;
    }

    .number-input-group span {
        font-size: 1.1em;
        font-weight: 700;
        color: #333; 
        width: 100%; 
        text-align: left;
        margin-bottom: 2px;
    }

    .number-input-group input {
        width: 100%; 
        padding: 8px 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 0.9em; 
        transition: border-color 0.2s;
        text-transform: lowercase; 
        box-sizing: border-box;
    }

    .number-input-group input:focus {
        border-color: #007bff;
        outline: none;
    }
    
    .number-result {
        margin-top: 3px;
        font-weight: bold;
        text-align: left; 
        width: 100%; 
        font-size: 0.85em; 
    }

    .result-correct { color: #28a745; }
    .result-incorrect { color: #dc3545; }

    /* Topic 8 (Drag and Drop) Styles */
    .drag-drop-overall-container {
        display: flex;
        flex-direction: column;
        align-items: center; 
        width: 100%;
        max-width: 600px; 
        margin: 0 auto; 
        padding: 20px 0;
    }

    /* 1. Image Gallery */
    .image-gallery-container {
        width: 100%;
        display: grid;
        grid-template-columns: repeat(2, 1fr); 
        gap: 15px; 
        margin-bottom: 30px; 
    }

    .gallery-image-wrapper {
        position: relative;
        width: 100%;
        height: 320px; 
        border-radius: 10px; 
        overflow: hidden;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .gallery-image-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        background-color: #fcfcfc;
        display: block;
    }

    /* MODIFICA√á√ÉO T√≥pico 8: Ajustes de foco para melhor centraliza√ß√£o */
    .gallery-image-wrapper:nth-child(1) img { 
        object-position: center 25%;
        /* Ajuste fino */
    }
    .gallery-image-wrapper:nth-child(3) img { 
        object-position: center 5%;
        /* Ajuste fino para evitar corte de cabe√ßa */
    }
    

    .image-number-label {
        position: absolute;
        top: 10px;
        left: 10px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 5px 10px;
        border-radius: 6px;
        font-size: 1.1em;
        font-weight: bold;
        z-index: 10;
    }

    @media (max-width: 480px) {
        .image-gallery-container {
            grid-template-columns: 1fr;
        }
        .gallery-image-wrapper {
            height: 250px;
        }
    }

    /* 2. Sentence List */
    .sentence-list-container {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 12px; 
        margin-bottom: 30px; 
    }

    .sentence-item {
        display: flex;
        align-items: center;
        justify-content: flex-start; 
        font-size: 1.1em; 
        font-weight: 500;
        line-height: 1.4;
        margin: 0;
        padding: 3px 0;
    }

    .sentence-text-before {
        margin-right: 5px;
    }

    /* Drop Zone */
    .drop-zone {
        min-width: 120px;
        min-height: 2.2em; 
        border: 1px solid #cccccc; 
        border-radius: 6px; 
        padding: 3px 8px; 
        line-height: 1.3; 
        display: inline-flex; 
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        flex-grow: 0; 
        transition: background-color 0.1s, border-color 0.1s;
        white-space: nowrap;
    }
    
    .drop-zone.drag-over {
        background-color: #eef7ff;
        border-color: #007bff; 
    }

    /* NOVO ESTILO: Bordas mais limpas para corre√ß√£o de Drag and Drop */
    .drop-zone.correct-drop {
        border: 2px solid #28a745 !important;
        background-color: #ffffff; /* Fundo limpo */
    }

    .drop-zone.incorrect-drop {
        border: 2px solid #dc3545 !important;
        background-color: #ffffff; /* Fundo limpo */
    }

    /* 3. Draggable Words Container */
    .draggable-words-container {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        justify-content: center; 
        gap: 10px; 
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px; 
        background-color: #fcfcfc;
    }

    /* Draggable Word/Image */
    .draggable-item {
        cursor: grab;
        padding: 8px 15px;
        border: 1px solid #007bff; 
        background-color: #f5f9ff; 
        color: #007bff;
        border-radius: 4px;
        font-weight: 600;
        transition: opacity 0.2s, background-color 0.2s;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        text-align: center;
        white-space: nowrap;
        margin: 5px;
    }

    .draggable-item:active {
        cursor: grabbing;
    }
    
    .dragging {
        opacity: 0.5;
    }
    
    /* Quando o item j√° est√° no drop zone */
    .drop-zone .draggable-item {
        margin: 0;
        border: none;
        background-color: #eef4f9; 
        color: #333;
        box-shadow: none;
    }

    
    /* Feedback Box */
    .feedback-box {
        padding: 15px;
        margin-top: 20px;
        border-radius: 8px;
        font-weight: 500;
        text-align: center;
    }
    .feedback-box.correct { background-color: #e6ffed; border: 1px solid #28a745; color: #28a745; }
    .feedback-box.incorrect { background-color: #ffe6e6; border: 1px solid #dc3545; color: #dc3545; }

    /* Modal Styles */
    .modal {
        display: none; 
        position: fixed; 
        z-index: 2000; 
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.4); 
    }
    .modal-content {
        background-color: #fefefe;
        margin: 10% auto; 
        padding: 30px;
        border: 1px solid #888;
        width: 80%; 
        max-width: 400px;
        border-radius: 10px;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
        animation-name: animatetop;
        animation-duration: 0.4s
    }
    .modal-close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
    }
    .modal-close:hover,
    .modal-close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
    @keyframes animatetop {
        from {top: -300px; opacity: 0}
        to {top: 0; opacity: 1}
    }


    /* Show/Hide controls based on state */
    .nav-buttons, .menu-toggle { display: none; } 
    #lesson-screen { display: none; }
    
</style>
</head>
<body>

<div id="home-screen">
    <h2>Basic English Course - Beginner</h2>
    
    <div class="chapter-grid">
        <div class="chapter-card" onclick="startLesson(1)">
            <div class="card-background-image" style="background-image: url('img/greetings.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 1</h3>
                    <p>Greetings, Introductions, Numbers 1-10.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(2)">
            <div class="card-background-image" style="background-image: url('img/tobe.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 2</h3>
                    <p>Verb To Be (Affirmative, Negative, Interrogative).</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(3)">
            <div class="card-background-image" style="background-image: url('img/vocabulary.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 3</h3>
                    <p>Essential Vocabulary, Demonstrative Pronouns.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(4)">
            <div class="card-background-image" style="background-image: url('img/pronunciation.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 4</h3>
                    <p>Pronunciation Practice: A, E, I, O, U.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(5)">
            <div class="card-background-image" style="background-image: url('img/objects.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 5</h3>
                    <p>Interactive Lesson: Everyday Objects.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(6)">
            <div class="card-background-image" style="background-image: url('img/present.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 6</h3>
                    <p>Present Simple & Daily Routines.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(7)">
            <div class="card-background-image" style="background-image: url('img/fill_blanks.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 7</h3>
                    <p>Numbers 11-20 & Fill in the Blanks.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

        <div class="chapter-card" onclick="startLesson(8)">
            <div class="card-background-image" style="background-image: url('img/family.jpg');"></div>
            <div class="card-text-area">
                <div class="text-content-wrapper">
                    <h3>Beginner 8</h3>
                    <p>Family Members & Drag and Drop Quiz.</p>
                </div>
                <button class="start-button">Start</button>
            </div>
        </div>

    </div>
</div>

<button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>

<div class="side-menu" id="side-menu">
    <a href="javascript:void(0)" class="close-btn" onclick="toggleMenu()">&times;</a>
    <a href="#" onclick="showHome()">Home</a>
    </div>

<div class="nav-buttons" id="nav-buttons">
    <span id="progress-indicator"></span>
    <button id="back-btn" onclick="backQuestion()">Back</button>
    </div>

<div id="lesson-screen">
    <h1 id="lesson-title">Lesson Title</h1>
    <h2 id="topic-title">Topic Title</h2>
    
    <div id="lesson-content">
        <img id="question-image" src="" alt="Lesson Image" style="display: none;">

        <div id="hotspot-1" class="hotspot" style="top: 20%; left: 15%; display: none;">1</div>
        <div id="hotspot-2" class="hotspot" style="top: 35%; right: 10%; display: none;">2</div>
        <div id="hotspot-3" class="hotspot" style="top: 60%; left: 50%; display: none;">3</div>
        <div id="hotspot-4" class="hotspot" style="top: 75%; left: 25%; display: none;">4</div>

        <div class="quiz-question" id="quiz-question-container">
            <p id="question-text"></p>
            <div id="pronunciation-container" style="display:none;">
                <p class="word-to-practice" id="word-to-practice"></p>
                <audio id="audio-player-controls" controls style="display:none;"></audio>
                <ul id="pronunciation-list"></ul>
            </div>
            <div id="options-container">
                </div>
            <div id="feedback" class="feedback-box"></div>
        </div>
        
    </div>
</div>

<div id="modal" class="modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <h3 id="modal-title"></h3>
        <p id="modal-description"></p>
        <div id="modal-content-details"></div>
    </div>
</div>

<script>
    // FIX: Para carregar arquivos localmente (img/audio)
    const GITHUB_RAW_BASE_URL = ''; 

    // --- ESTRUTURA DE DADOS DO CURSO (Lessons e Topics) ---
    const courseData = [
        { 
            id: 1, 
            lessonTitle: "Beginner 1: Introductions", 
            topics: [
                {
                    id: 1,
                    title: "Numbers 1-10 Quiz",
                    type: "MULTIPLE_CHOICE",
                    question: "Choose the correct number for the image:",
                    image: GITHUB_RAW_BASE_URL + 'img/numeros.jpg', // Caminho agora √© local (img/numeros.jpg)
                    options: ["One", "Three", "Five", "Seven"],
                    correctAnswer: "Seven" 
                },
                {
                    id: 2,
                    title: "Greetings Quiz",
                    type: "MULTIPLE_CHOICE",
                    question: "What is the most common greeting in the morning?",
                    options: ["Good night", "Good evening", "Good morning", "Good afternoon"],
                    correctAnswer: "Good morning"
                }
            ]
        },
        { 
            id: 2, 
            lessonTitle: "Beginner 2: Verb To Be", 
            topics: [
                {
                    id: 3,
                    title: "Vocabulary: Basic Verbs",
                    type: "INFO_TABLE",
                    question: "Review the vocabulary below:",
                    tableData: [
                        { sentence: "I <span class='highlight'>am</span> a student.", translation: "Eu sou um estudante.", keyword: "am" },
                        { sentence: "She <span class='highlight'>is</span> happy.", translation: "Ela est√° feliz.", keyword: "is" },
                        { sentence: "We <span class='highlight'>are</span> friends.", translation: "N√≥s somos amigos.", keyword: "are" },
                        { sentence: "The cat <span class='highlight'>is</span> sleeping.", translation: "O gato est√° dormindo.", keyword: "is" }
                    ]
                },
                {
                    id: 4,
                    title: "Verb To Be: Quiz",
                    type: "MULTIPLE_CHOICE",
                    question: "Choose the correct form of 'to be': 'They ___ hungry.'",
                    options: ["is", "am", "are", "be"],
                    correctAnswer: "are" 
                }
            ]
        },
        {
            id: 3,
            lessonTitle: "Beginner 3: Vocabulary and Demonstratives",
            topics: [
                {
                    id: 5,
                    title: "Vocabulary: Colors",
                    type: "INFO_TABLE",
                    question: "Review the colors:",
                    tableData: [
                        { sentence: "<span class='highlight'>Red</span>", translation: "Vermelho" },
                        { sentence: "<span class='highlight'>Blue</span>", translation: "Azul" },
                        { sentence: "<span class='highlight'>Green</span>", translation: "Verde" },
                        { sentence: "<span class='highlight'>Yellow</span>", translation: "Amarelo" }
                    ]
                },
                {
                    id: 6,
                    title: "Demonstrative Pronouns Quiz",
                    type: "MULTIPLE_CHOICE",
                    question: "A book that is far away: '___ is my book.'",
                    options: ["This", "These", "That", "Those"],
                    correctAnswer: "That"
                }
            ]
        },
        {
            id: 4,
            lessonTitle: "Beginner 4: Pronunciation Practice",
            topics: [
                {
                    id: 7,
                    title: "Pronunciation: Vowel A",
                    type: "PRONUNCIATION_SET",
                    question: "Listen and repeat the words:",
                    audioSet: [
                        { word: "Cat", audio: GITHUB_RAW_BASE_URL + 'audio/cat.mp3' }, // Caminho agora √© local
                        { word: "Apple", audio: GITHUB_RAW_BASE_URL + 'audio/apple.mp3' },
                        { word: "Bag", audio: GITHUB_RAW_BASE_URL + 'audio/bag.mp3' }
                    ]
                },
                {
                    id: 8,
                    title: "Pronunciation: Vowel E",
                    type: "PRONUNCIATION_SET",
                    question: "Listen and repeat the words:",
                    audioSet: [
                        { word: "Bed", audio: GITHUB_RAW_BASE_URL + 'audio/bed.mp3' },
                        { word: "Pen", audio: GITHUB_RAW_BASE_URL + 'audio/pen.mp3' },
                        { word: "Red", audio: GITHUB_RAW_BASE_URL + 'audio/red.mp3' }
                    ]
                }
            ]
        },
        {
            id: 5,
            lessonTitle: "Beginner 5: Interactive Learning",
            topics: [
                {
                    id: 9,
                    title: "Interactive Bingo: Everyday Objects",
                    type: "INTERACTIVE_BINGO",
                    question: "Click on the numbers to reveal the objects and their names.",
                    image: GITHUB_RAW_BASE_URL + 'img/objects.jpg',
                    hotspots: [
                        { id: 1, top: '20%', left: '15%', title: "Book", description: "This is a book.", number: "1. Book" },
                        { id: 2, top: '35%', right: '10%', title: "Pencil", description: "This is a pencil.", number: "2. Pencil" },
                        { id: 3, top: '60%', left: '50%', title: "Clock", description: "This is a clock.", number: "3. Clock" },
                        { id: 4, top: '75%', left: '25%', title: "Chair", description: "This is a chair.", number: "4. Chair" }
                    ]
                }
            ]
        },
        {
            id: 6,
            lessonTitle: "Beginner 6: Present Simple",
            topics: [
                {
                    id: 10,
                    title: "Present Simple Tense",
                    type: "INFO_TABLE",
                    question: "Conjugation Rules:",
                    tableData: [
                        { sentence: "I / You / We / They", translation: "Verb (Base form)" },
                        { sentence: "He / She / It", translation: "Verb + s/es/ies" }
                    ],
                    tableType: "comparison"
                },
                {
                    id: 11,
                    title: "Daily Routine Quiz",
                    type: "MULTIPLE_CHOICE",
                    question: "Complete the sentence: 'He ___ coffee every morning.'",
                    options: ["drink", "drinks", "drinking", "drank"],
                    correctAnswer: "drinks"
                }
            ]
        },
        {
            id: 7,
            lessonTitle: "Beginner 7: Numbers 11-20 & Blanks",
            topics: [
                {
                    id: 12,
                    title: "Fill in the Blanks: Numbers",
                    type: "FILL_IN_BLANKS",
                    question: "Write the numbers in English (lowercase):",
                    blanks: [
                        { number: 12, answer: "twelve" },
                        { number: 15, answer: "fifteen" },
                        { number: 20, answer: "twenty" }
                    ]
                },
                {
                    id: 13,
                    title: "Numbers 11-20 Practice",
                    type: "INFO_TABLE",
                    question: "Review the numbers (11-20):",
                    tableData: [
                        { sentence: "11", translation: "Eleven" },
                        { sentence: "14", translation: "Fourteen" },
                        { sentence: "18", translation: "Eighteen" }
                    ],
                    tableType: "number-modal"
                }
            ]
        },
        {
            id: 8,
            lessonTitle: "Beginner 8: Family & Drag and Drop",
            topics: [
                {
                    id: 14,
                    title: "Family Members Drag & Drop",
                    type: "DRAG_AND_DROP",
                    question: "Drag the family member name to the correct sentence.",
                    images: [
                        { id: 1, src: GITHUB_RAW_BASE_URL + 'img/father.jpg', description: "Image of a father" },
                        { id: 2, src: GITHUB_RAW_BASE_URL + 'img/mother.jpg', description: "Image of a mother" },
                        { id: 3, src: GITHUB_RAW_BASE_URL + 'img/sister.jpg', description: "Image of a sister" },
                        { id: 4, src: GITHUB_RAW_BASE_URL + 'img/brother.jpg', description: "Image of a brother" }
                    ],
                    sentences: [
                        { textBefore: "Picture 1: He is my", textAfter: ".", correctWord: "Father", slotId: "slot1" },
                        { textBefore: "Picture 2: She is my", textAfter: ".", correctWord: "Mother", slotId: "slot2" },
                        { textBefore: "Picture 3: I have one older", textAfter: ".", correctWord: "Sister", slotId: "slot3" },
                        { textBefore: "Picture 4: My favorite relative is my younger", textAfter: ".", correctWord: "Brother", slotId: "slot4" }
                    ],
                    draggableWords: ["Brother", "Mother", "Father", "Sister"] 
                }
            ]
        }
    ];

    // --- VARI√ÅVEIS DE ESTADO ---
    let currentLessonId = null;
    let currentTopicIndex = 0;
    let currentLesson = null;
    let selectedOption = null;
    let dragDropAnswer = {}; // Para Drag and Drop
    let fillInBlanksAnswers = {}; // Para Fill in the Blanks
    let quizSubmitted = false;
    let totalQuestionsInLesson = 0; 
    let score = 0; 

    // --- REFER√äNCIAS DO DOM ---
    const homeScreen = document.getElementById('home-screen');
    const lessonScreen = document.getElementById('lesson-screen');
    const lessonTitleEl = document.getElementById('lesson-title');
    const topicTitleEl = document.getElementById('topic-title');
    const questionTextEl = document.getElementById('question-text');
    const questionImage = document.getElementById('question-image');
    const optionsContainer = document.getElementById('options-container');
    const feedback = document.getElementById('feedback');
    const navButtons = document.getElementById('nav-buttons');
    const backBtn = document.getElementById('back-btn');
    const progressIndicator = document.getElementById('progress-indicator');
    const menuToggle = document.querySelector('.menu-toggle');
    const sideMenu = document.getElementById('side-menu');
    const pronunciationContainer = document.getElementById('pronunciation-container');
    const wordToPractice = document.getElementById('word-to-practice');
    const audioPlayerControls = document.getElementById('audio-player-controls');
    const pronunciationList = document.getElementById('pronunciation-list');
    
    // --- FUN√á√ïES DE NAVEGA√á√ÉO E CONTROLE ---

    function showHome() {
        homeScreen.style.display = 'block';
        lessonScreen.style.display = 'none';
        navButtons.style.display = 'none';
        menuToggle.style.display = 'none';
        sideMenu.classList.remove('open'); 
        currentLessonId = null;
        currentTopicIndex = 0;
    }

    function startLesson(lessonId) {
        currentLessonId = lessonId;
        currentLesson = courseData.find(l => l.id === lessonId);
        totalQuestionsInLesson = currentLesson.topics.length;
        currentTopicIndex = 0;
        loadTopic(currentTopicIndex);
        
        homeScreen.style.display = 'none';
        lessonScreen.style.display = 'block';
        navButtons.style.display = 'flex';
        menuToggle.style.display = 'block';
        updateSideMenu();

        alert(`Starting Lesson ${lessonId}. If the screen doesn't change, check the file path instructions below.`);
    }

    function loadTopic(index) {
        if (!currentLesson || index < 0 || index >= currentLesson.topics.length) {
            alert("Lesson Finished!");
            showHome();
            return;
        }

        currentTopicIndex = index;
        const topic = currentLesson.topics[currentTopicIndex];
        
        // Resetting state
        selectedOption = null;
        quizSubmitted = false;
        feedback.innerHTML = '';
        feedback.className = 'feedback-box';
        optionsContainer.style.display = 'block';
        pronunciationContainer.style.display = 'none';

        // Reset Hotspots (T√≥pico 5)
        document.querySelectorAll('.hotspot').forEach(h => {
            h.style.display = 'none';
        });

        // Set content
        lessonTitleEl.textContent = currentLesson.lessonTitle;
        topicTitleEl.textContent = `T√≥pico ${index + 1}: ${topic.title}`;
        questionTextEl.textContent = topic.question;
        
        // Load image
        if (topic.image) {
            questionImage.src = topic.image;
            questionImage.style.display = 'block';
        } else {
            questionImage.style.display = 'none';
        }

        switch (topic.type) {
            case 'INFO_TABLE': 
                loadInfoTable(topic);
                break;
            case 'PRONUNCIATION_SET':
                loadPronunciationSlide(topic);
                break;
            case 'INTERACTIVE_BINGO':
                questionImage.style.display = 'block';
                // Posicionamento e ativa√ß√£o dos hotspots
                topic.hotspots.forEach(h => {
                    const hotspotEl = document.getElementById(`hotspot-${h.id}`);
                    if (hotspotEl) {
                        hotspotEl.style.top = h.top;
                        hotspotEl.style.left = h.left;
                        hotspotEl.style.right = h.right || 'auto';
                        hotspotEl.style.display = 'flex';
                        hotspotEl.onclick = () => showHotspotModal(h);
                    }
                });
                optionsContainer.innerHTML = '';
                optionsContainer.style.display = 'none';
                feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Click on the numbers in the image.</span>'; 
                break;
            case 'FILL_IN_BLANKS':
                loadFillInBlanks(topic);
                break;
            case 'DRAG_AND_DROP':
                loadDragAndDrop(topic);
                questionImage.style.display = 'none';
                break;
            case 'MULTIPLE_CHOICE': // M√∫ltipla Escolha
            default: 
                loadQuizSlide(topic);
                // FR√ÅSE ALTERADA AQUI: N√£o menciona o bot√£o Next
                feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Select an option to check your answer.</span>';
                break;
        }

        updateProgress();
        updateNavButtons();
    }

    function updateProgress() {
        progressIndicator.textContent = `Topic ${currentTopicIndex + 1} of ${totalQuestionsInLesson}`;
    }

    function updateNavButtons() {
        backBtn.style.display = (currentTopicIndex > 0) ? 'block' : 'none';
    }

    function backQuestion() {
        if (currentTopicIndex > 0) {
            loadTopic(currentTopicIndex - 1);
        }
    }

    // --- FUN√á√ïES DE CARREGAMENTO DE CONTE√öDO ---

    function loadQuizSlide(q) {
        optionsContainer.innerHTML = '';
        q.options.forEach((option, index) => {
            const div = document.createElement('div');
            div.className = 'option';
            div.textContent = option;
            div.onclick = () => selectOption(div, option, q.correctAnswer);
            optionsContainer.appendChild(div);
        });
    }

    function loadInfoTable(q) {
        optionsContainer.innerHTML = ''; // Limpar op√ß√µes
        optionsContainer.className = 'lesson-vocabulary';
        
        let tableHTML = '';

        // Tabela de Vocabul√°rio Padr√£o (T√≥picos 2, 3)
        if (q.tableType !== 'comparison' && q.tableType !== 'number-modal') {
            tableHTML = `<table class="info-table"><thead><tr><th>English</th><th>Portugu√™s</th></tr></thead><tbody>`;
            q.tableData.forEach(item => {
                tableHTML += `<tr><td class="sentence-cell">${item.sentence}</td><td>${item.translation}</td></tr>`;
            });
            tableHTML += `</tbody></table>`;
            feedback.innerHTML = '';
        } 
        
        // Tabela de Compara√ß√£o (T√≥pico 6)
        else if (q.tableType === 'comparison') {
            tableHTML = `<table class="comparison-table"><thead><tr><th>Subject</th><th>Rule</th></tr></thead><tbody>`;
            q.tableData.forEach(item => {
                tableHTML += `<tr><td>${item.sentence}</td><td>${item.translation}</td></tr>`;
            });
            tableHTML += `</tbody></table>`;
            feedback.innerHTML = '';
        }
        
        // Tabela de N√∫meros (T√≥pico 7) - Usa modal no click
        else if (q.tableType === 'number-modal') {
             tableHTML = `<div class="chapter-grid" style="grid-template-columns: repeat(3, 1fr); max-width: 400px; margin: 0 auto; gap: 8px;">`;
            q.tableData.forEach(item => {
                tableHTML += `<div class="chapter-card" style="height: 120px;" onclick="showNumberModal('${item.sentence}', '${item.translation}')">
                                <div class="card-text-area" style="height: 100%; justify-content: center; background: #007bff; ">
                                    <h3 style="font-size: 2em; margin: 0;">${item.sentence}</h3>
                                </div>
                              </div>`;
            });
            tableHTML += `</div>`;
            feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Click the numbers to see the writing.</span>'; 
        }

        optionsContainer.innerHTML = tableHTML;
    }

    function loadPronunciationSlide(q) {
        optionsContainer.innerHTML = '';
        pronunciationContainer.style.display = 'flex';
        questionTextEl.textContent = q.question;
        pronunciationList.innerHTML = '';
        audioPlayerControls.style.display = 'none'; 
        feedback.innerHTML = '';

        q.audioSet.forEach((item, index) => {
            const li = document.createElement('li');
            li.innerHTML = `
                <span>${item.word}</span>
                <button class="play-button" onclick="playAudio('${item.audio}')">‚ñ∂Ô∏è</button>
            `;
            pronunciationList.appendChild(li);
        });
        
        feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Click on the play button (‚ñ∂Ô∏è) to listen to the pronunciation.</span>';
    }

    function loadFillInBlanks(q) {
        optionsContainer.innerHTML = '';
        optionsContainer.className = 'fill-in-blanks-container';
        fillInBlanksAnswers = {};

        q.blanks.forEach((item, index) => {
            const group = document.createElement('div');
            group.className = 'number-input-group';
            group.innerHTML = `
                <span>${item.number}</span>
                <input type="text" id="blank-${index}" placeholder="Write the word">
                <div id="result-${index}" class="number-result"></div>
            `;
            optionsContainer.appendChild(group);

            // Adiciona evento para checar a resposta ao sair do campo (blur)
            const input = group.querySelector(`#blank-${index}`);
            input.onblur = () => checkFillInBlanksAnswer(input, item.answer, index);
        });

        feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Write the numbers in English (lowercase) and press Enter or click outside the box to check.</span>';
    }

    function loadDragAndDrop(q) {
        optionsContainer.innerHTML = '';
        optionsContainer.className = 'drag-drop-overall-container';
        dragDropAnswer = {};

        // 1. Image Gallery
        let imageGalleryHTML = '<div class="image-gallery-container">';
        q.images.forEach(img => {
            imageGalleryHTML += `
                <div class="gallery-image-wrapper">
                    <img src="${img.src}" alt="${img.description}">
                    <span class="image-number-label">Picture ${img.id}</span>
                </div>`;
        });
        imageGalleryHTML += '</div>';

        // 2. Sentence List with Drop Zones
        let sentenceListHTML = '<div class="sentence-list-container">';
        q.sentences.forEach(s => {
            sentenceListHTML += `
                <p class="sentence-item">
                    <span class="sentence-text-before">${s.textBefore}</span>
                    <div id="${s.slotId}" class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    <span class="sentence-text-after">${s.textAfter}</span>
                </p>`;
        });
        sentenceListHTML += '</div>';

        // 3. Draggable Words Container
        let draggableWordsHTML = '<div class="draggable-words-container">';
        q.draggableWords.forEach(word => {
            draggableWordsHTML += `<div class="draggable-item" draggable="true" ondragstart="drag(event)" data-word="${word}">${word}</div>`;
        });
        draggableWordsHTML += '</div>';

        optionsContainer.innerHTML = imageGalleryHTML + sentenceListHTML + draggableWordsHTML;
        feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Drag the names of the family members to the correct sentence.</span>';
    }

    // --- FUN√á√ïES DE INTERA√á√ÉO E CORRE√á√ÉO ---

    function selectOption(element, option, correctAnswer) {
        // Se j√° foi corrigido, n√£o faz nada
        if (quizSubmitted) return;

        // Limpa a sele√ß√£o anterior
        document.querySelectorAll('.option').forEach(opt => {
            opt.classList.remove('selected');
        });

        // Marca a op√ß√£o atual
        element.classList.add('selected');
        selectedOption = option;

        // 1. Checa a resposta
        quizSubmitted = true;
        
        // 2. Aplica estilos de corre√ß√£o
        document.querySelectorAll('.option').forEach(opt => {
            opt.onclick = null; // Desabilita o clique
            if (opt.textContent === correctAnswer) {
                opt.classList.add('correct');
            } else if (opt.classList.contains('selected')) {
                opt.classList.add('incorrect');
            }
        });
        
        // 3. Mostra o feedback
        if (selectedOption === correctAnswer) {
            feedback.innerHTML = "Correto! üéâ";
            feedback.className = 'feedback-box correct';
        } else {
            feedback.innerHTML = `Incorreto. A resposta correta √©: ${correctAnswer}.`;
            feedback.className = 'feedback-box incorrect';
        }
        
        // 4. Prepara para o pr√≥ximo t√≥pico (Avan√ßa automaticamente ap√≥s a corre√ß√£o)
        setTimeout(() => {
            loadTopic(currentTopicIndex + 1);
        }, 2000); 
    }
    
    // Fun√ß√µes de Audio
    function playAudio(audioPath) {
        audioPlayerControls.src = audioPath;
        audioPlayerControls.style.display = 'block';
        audioPlayerControls.play();
    }

    // Fun√ß√µes de Hotspot (T√≥pico 5)
    function showHotspotModal(hotspot) {
        document.getElementById('modal-title').textContent = hotspot.title;
        document.getElementById('modal-description').textContent = hotspot.description;
        document.getElementById('modal-content-details').innerHTML = ''; // Limpa conte√∫do extra
        document.getElementById('modal').style.display = 'block';
    }

    function showNumberModal(number, writing) {
        document.getElementById('modal-title').textContent = `Number: ${number}`;
        document.getElementById('modal-description').textContent = `Writing: ${writing}`;
        document.getElementById('modal-content-details').innerHTML = ''; 
        document.getElementById('modal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('modal').style.display = 'none';
    }

    // Fun√ß√µes de Fill in the Blanks (T√≥pico 7)
    function checkFillInBlanksAnswer(input, correctAnswer, index) {
        const resultEl = document.getElementById(`result-${index}`);
        const userAnswer = input.value.trim().toLowerCase();
        
        if (userAnswer === correctAnswer.toLowerCase()) {
            resultEl.textContent = "Correct! ‚úÖ";
            resultEl.className = 'number-result result-correct';
            input.disabled = true;
            fillInBlanksAnswers[index] = true;
        } else if (userAnswer === '') {
            resultEl.textContent = "";
            input.disabled = false;
            delete fillInBlanksAnswers[index];
        } else {
            resultEl.textContent = `Incorrect. It's: ${correctAnswer}. ‚ùå`;
            resultEl.className = 'number-result result-incorrect';
            input.disabled = true;
            fillInBlanksAnswers[index] = false;
        }

        // Verifica se todas foram respondidas para avan√ßar (opcional)
        if (Object.keys(fillInBlanksAnswers).length === currentLesson.topics[currentTopicIndex].blanks.length && 
            Object.values(fillInBlanksAnswers).every(v => v === true)) {
            setTimeout(() => {
                // loadTopic(currentTopicIndex + 1); // Pode avan√ßar automaticamente ou deixar manual
            }, 1000);
        }
    }

    // Fun√ß√µes de Drag and Drop (T√≥pico 8)
    function allowDrop(ev) {
        ev.preventDefault();
        ev.target.classList.add('drag-over');
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.dataset.word);
        setTimeout(() => {
            ev.target.classList.add('dragging');
        }, 0);
    }

    function drop(ev) {
        ev.preventDefault();
        ev.target.classList.remove('drag-over');
        const data = ev.dataTransfer.getData("text");
        const draggedElement = document.querySelector(`.draggable-item[data-word="${data}"]`);
        
        // Verifica se o slot est√° vazio
        if (ev.target.classList.contains('drop-zone') && ev.target.children.length === 0) {
            
            // Corrige a posi√ß√£o: se o elemento vem do cont√™iner de palavras
            if (draggedElement.parentElement.classList.contains('draggable-words-container')) {
                draggedElement.parentElement.removeChild(draggedElement);
            }
            
            ev.target.appendChild(draggedElement);
            checkDragAndDrop();
        }
    }
    
    // Fun√ß√£o para checar Drag and Drop (Chamada ap√≥s cada drop)
    function checkDragAndDrop() {
        const topic = currentLesson.topics[currentTopicIndex];
        let allCorrect = true;

        topic.sentences.forEach(s => {
            const slot = document.getElementById(s.slotId);
            const droppedItem = slot.querySelector('.draggable-item');
            
            slot.classList.remove('correct-drop', 'incorrect-drop');

            if (droppedItem) {
                const droppedWord = droppedItem.dataset.word;
                if (droppedWord === s.correctWord) {
                    slot.classList.add('correct-drop');
                } else {
                    slot.classList.add('incorrect-drop');
                    allCorrect = false;
                }
            } else {
                allCorrect = false; // Slot vazio
            }
        });

        if (allCorrect) {
            feedback.innerHTML = "Correto! üéâ Todas as palavras est√£o no lugar certo.";
            feedback.className = 'feedback-box correct';
            // Desabilita arrastar e soltar (opcional)
            document.querySelectorAll('.draggable-item').forEach(item => item.draggable = false);
            // Avan√ßa para o pr√≥ximo t√≥pico ap√≥s um breve atraso
            setTimeout(() => {
                loadTopic(currentTopicIndex + 1);
            }, 2000);
        } else {
            feedback.innerHTML = '<span style="color: #007bff; font-size: 1.1em;">Continue arrastando os nomes para os espa√ßos corretos.</span>';
            feedback.className = 'feedback-box';
        }
    }


    // Fun√ß√µes de Menu Lateral
    function toggleMenu() {
        if (sideMenu.classList.contains('open')) {
            sideMenu.classList.remove('open');
        } else {
            sideMenu.classList.add('open');
        }
    }

    function updateSideMenu() {
        const menu = document.getElementById('side-menu');
        // Remove links antigos de li√ß√µes (mant√©m Home e Close)
        menu.querySelectorAll('a:not(.close-btn)').forEach(a => {
            if (a.textContent !== 'Home') {
                menu.removeChild(a);
            }
        });

        courseData.forEach(lesson => {
            const lessonHeader = document.createElement('a');
            lessonHeader.textContent = lesson.lessonTitle;
            lessonHeader.style.fontWeight = 'bold';
            lessonHeader.style.backgroundColor = '#f0f0f0';
            lessonHeader.style.cursor = 'default';
            lessonHeader.onclick = (e) => e.preventDefault();
            menu.appendChild(lessonHeader);

            lesson.topics.forEach((topic, index) => {
                const topicLink = document.createElement('a');
                topicLink.textContent = `T√≥pico ${index + 1}: ${topic.title}`;
                topicLink.href = '#';
                topicLink.onclick = (e) => {
                    e.preventDefault();
                    currentLesson = lesson;
                    currentLessonId = lesson.id;
                    totalQuestionsInLesson = lesson.topics.length;
                    loadTopic(index);
                    toggleMenu();
                };
                menu.appendChild(topicLink);
            });
        });
    }

    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', () => {
        showHome();
        updateSideMenu(); // Preenche o menu lateral na carga inicial
    });

</script>
</body>
</html>
