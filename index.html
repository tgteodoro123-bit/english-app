<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic English Course</title>
<style>
Â  Â  /* 1. Estilos Gerais */
Â  Â  body {
Â  Â  Â  Â  font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  background-color: #FFFFFF;Â 
Â  Â  Â  Â  color: #333;
Â  Â  }

Â  Â  /* 2. Layout da Grade de Cards e Spacing */
Â  Â  #home-screen {
Â  Â  Â  Â  max-width: 1200px;Â 
Â  Â  Â  Â  margin: 60px auto 50px;Â 
Â  Â  Â  Â  padding: 0 30px;
Â  Â  Â  Â  display: block; /* Garante que estÃ¡ visÃ­vel por padrÃ£o */
Â  Â  }
Â  Â Â 
Â  Â  h2 {
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  border-bottom: 1px solid #e0e0e0;Â 
Â  Â  Â  Â  padding-top: 10px;Â 
Â  Â  Â  Â  padding-bottom: 25px;Â 
Â  Â  Â  Â  margin-bottom: 15px;Â 
Â  Â  Â  Â  font-size: 2.2em;Â 
Â  Â  Â  Â  font-weight: 500;Â 
Â  Â  }
Â  Â  .chapter-grid {
Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  grid-template-columns: repeat(4, 1fr);Â 
Â  Â  Â  Â  gap: 15px;Â 
Â  Â  }
Â  Â Â 
Â  Â  @media (max-width: 1024px) {
Â  Â  Â  Â  .chapter-grid {
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
Â  Â  Â  Â  }
Â  Â  }

Â  Â  /* 3. Estilos do Card */
Â  Â  .chapter-card {
Â  Â  Â  Â  background-color: #f7f7f7;Â 
Â  Â  Â  Â  border-radius: 6px;Â 
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);Â 
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  height: 240px;Â 
Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  overflow: hidden;Â 
Â  Â  Â  Â  transition: box-shadow 0.2s ease;
Â  Â  }
Â  Â  .chapter-card:hover {
Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);Â 
Â  Â  }
Â  Â Â 
Â  Â  .card-background-image {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  background-size: cover;
Â  Â  Â  Â  background-position: center;
Â  Â  Â  Â  z-index: 1;Â 
Â  Â  }

Â  Â  .card-text-area {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  bottom: 0;
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 30%;Â 
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  z-index: 2;Â 
Â  Â  Â  Â  transition: height 0.3s ease, background 0.3s ease, color 0.3s ease;Â 
Â  Â  Â  Â  background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%);Â 
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  justify-content: center;Â 
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .chapter-card:hover .card-text-area {
Â  Â  Â  Â  height: 50%;Â 
Â  Â  Â  Â  background: #FFFFFF;Â 
Â  Â  Â  Â  justify-content: space-between;Â 
Â  Â  Â  Â  padding: 15px;Â 
Â  Â  Â  Â  align-items: flex-start;Â 
Â  Â  }
Â  Â Â 
Â  Â  .text-content-wrapper {
Â  Â  Â  Â  transition: transform 0.3s ease;
Â  Â  Â  Â  text-align: left;Â 
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  box-sizing: border-box;Â 
Â  Â  }

Â  Â  .chapter-card:hover .text-content-wrapper {Â 
Â  Â  Â  Â  transform: translateY(-5px);Â 
Â  Â  }

Â  Â  .chapter-card h3 {
Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  color: white;Â 
Â  Â  Â  Â  transition: color 0.3s ease;
Â  Â  }

Â  Â  .chapter-card p {
Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  color: #ddd;Â 
Â  Â  Â  Â  transition: color 0.3s ease;
Â  Â  }
Â  Â Â 
Â  Â  .chapter-card:hover .card-text-area h3,
Â  Â  .chapter-card:hover .card-text-area p {
Â  Â  Â  Â  color: #000;Â 
Â  Â  }

Â  Â  .start-button {
Â  Â  Â  Â  background-color: #003366;Â 
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  padding: 10px 22px;Â 
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 5px;Â 
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  font-size: 1em;Â 
Â  Â  Â  Â  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  opacity: 0;Â 
Â  Â  Â  Â  transform: scale(0.9);Â 
Â  Â  Â  Â  transition: opacity 0.3s ease, transform 0.3s ease, background-color 0.2s ease;
Â  Â  Â  Â  align-self: flex-start;Â 
Â  Â  }

Â  Â  .chapter-card:hover .start-button {
Â  Â  Â  Â  opacity: 1;Â 
Â  Â  Â  Â  transform: scale(1);
Â  Â  }
Â  Â Â 
Â  Â  .start-button:hover {
Â  Â  Â  Â  background-color: #004c99;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* 4. Lesson/Quiz Screen */
Â  Â  #lesson-screen {
Â  Â  Â  Â  max-width: 650px;
Â  Â  Â  Â  margin: 70px auto 40px;Â 
Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  background-color: #FFFFFF;Â 
Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);Â 
Â  Â  Â  Â  display: none; /* CORRIGIDO: Esconde por padrÃ£o */
Â  Â  Â  Â  position: relative;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* Hotspot for Topic 5 */
Â  Â  .hotspot {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  width: 35px;Â 
Â  Â  Â  Â  height: 35px;
Â  Â  Â  Â  background-color: #ffffff;Â 
Â  Â  Â  Â  border: 2px solid #333;Â 
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  font-size: 1.8em;Â 
Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  z-index: 5;
Â  Â  Â  Â  transition: transform 0.2s, background-color 0.2s;
Â  Â  Â  Â  line-height: 0.8;Â 
Â  Â  }
Â  Â Â 
Â  Â  .hotspot:hover {
Â  Â  Â  Â  background-color: #f0f0f0;Â 
Â  Â  Â  Â  transform: scale(1.1);
Â  Â  }

Â  Â  /* Fixed Navigation Buttons (Right Corner) */
Â  Â  .nav-buttons {
Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  top: 20px;Â 
Â  Â  Â  Â  right: 20px;Â 
Â  Â  Â  Â  z-index: 1000;Â 
Â  Â  Â  Â  display: none; /* CORRIGIDO: Esconde por padrÃ£o */
Â  Â  Â  Â  gap: 10px;Â 
Â  Â  Â  Â  align-items: center;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* Back and Next Button Style */
Â  Â  .nav-buttons button {
Â  Â  Â  Â  padding: 12px 20px;Â 
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  background-color: #007bff;
Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  }
Â  Â Â 
Â  Â  .nav-buttons button:hover {
Â  Â  Â  Â  background-color: #0056b3;
Â  Â  }
Â  Â Â 
Â  Â  /* Progress Indicator */
Â  Â  #progress-indicator {
Â  Â  Â  Â  font-weight: 400;Â 
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-size: 0.95em;Â 
Â  Â  Â  Â  margin-right: 15px;Â 
Â  Â  }

Â  Â  /* Hamburger Menu Button (Top Left) */
Â  Â  .menu-toggle {
Â  Â  Â  Â  display: none; /* CORRIGIDO: Esconde por padrÃ£o (sÃ³ aparece na liÃ§Ã£o) */
Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  top: 20px;
Â  Â  Â  Â  left: 20px;Â 
Â  Â  Â  Â  font-size: 2.2em;Â 
Â  Â  Â  Â  background: none;Â 
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  line-height: 1;Â 
Â  Â  Â  Â  padding: 5px 10px;Â 
Â  Â  Â  Â  z-index: 1001;Â 
Â  Â  Â  Â  transition: color 0.2s ease, background-color 0.2s ease;
Â  Â  Â  Â  border-radius: 4px;
Â  Â  }

Â  Â  .menu-toggle:hover {
Â  Â  Â  Â  color: #555;Â 
Â  Â  Â  Â  background-color: #f0f0f0;Â 
Â  Â  }

Â  Â  /* Side Menu (Left Side) */
Â  Â  .side-menu {
Â  Â  Â  Â  height: 100%;Â 
Â  Â  Â  Â  width: 0;Â 
Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  z-index: 1000;Â 
Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  overflow-x: hidden;Â 
Â  Â  Â  Â  transition: 0.3s;Â 
Â  Â  Â  Â  padding-top: 60px;Â 
Â  Â  Â  Â  box-shadow: 2px 0 10px rgba(0,0,0,0.1);Â 
Â  Â  Â  Â  border-right: 1px solid #eee;
Â  Â  Â  Â  overflow-y: auto;Â 
Â  Â  }

Â  Â  .side-menu.open {
Â  Â  Â  Â  width: 280px;Â 
Â  Â  }

Â  Â  .side-menu a {
Â  Â  Â  Â  padding: 15px 25px;Â 
Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  font-size: 1.1em;Â 
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  display: block;
Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  border-bottom: 1px solid #f0f0f0;Â 
Â  Â  Â  Â  font-weight: 400;Â 
Â  Â  }

Â  Â  .side-menu a:hover {
Â  Â  Â  Â  background-color: #f6f9fc;Â 
Â  Â  Â  Â  color: #007bff;Â 
Â  Â  }

Â  Â  .side-menu a.active { /* NOVO: Indica o tÃ³pico atual no menu lateral */
Â  Â  Â  Â  background-color: #e0f0ff;
Â  Â  Â  Â  border-left: 5px solid #007bff;
Â  Â  Â  Â  padding-left: 20px;
Â  Â  Â  Â  font-weight: 600;
Â  Â  }

Â  Â  .side-menu .close-btn {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  right: 15px;
Â  Â  Â  Â  font-size: 36px;
Â  Â  Â  Â  margin-left: 50px;
Â  Â  Â  Â  color: #aaa;
Â  Â  Â  Â  cursor: pointer;
Â  Â  }

Â  Â  /* Content Styles */
Â  Â  .quiz-question img {
Â  Â  Â  Â  max-width: 100%;Â 
Â  Â  Â  Â  height: auto;Â 
Â  Â  Â  Â  display: block;
Â  Â  Â  Â  margin: 15px auto;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
Â  Â  }
Â  Â Â 
Â  Â  .quiz-question {
Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  border: 1px solid #eee;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  background-color: #fcfcfc;
Â  Â  Â  Â  position: relative;Â 
Â  Â  }
Â  Â Â 
Â  Â  #question-text {
Â  Â  Â  Â  font-size: 1.4em;Â 
Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  }
Â  Â Â 
Â  Â  .option {
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  margin: 12px 0;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  transition: background-color 0.2s, border-color 0.2s;
Â  Â  Â  Â  text-align: left;
Â  Â  }
Â  Â  .option:hover {
Â  Â  Â  Â  background-color: #f9f9f9;
Â  Â  }
Â  Â Â 
Â  Â  /* NOVO ESTILO: Bordas elegantes para MÃºltipla Escolha */
Â  Â  .option.selected { border-color: #007bff; background-color: #f5f9ff; }
Â  Â  .option.correct { border: 3px solid #28a745 !important; background-color: #e6ffed !important; font-weight: bold; }
Â  Â  .option.incorrect { border: 3px solid #dc3545 !important; background-color: #ffe6e6 !important; font-weight: bold; }

Â  Â  /* Pronunciation and Audio Styles */
Â  Â  #pronunciation-container {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  padding-top: 15px;
Â  Â  Â  Â  border: 1px solid #ddd;Â 
Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  }
Â  Â  .word-to-practice { font-size: 1.2em; font-weight: 700; margin-bottom: 20px; color: #333; }
Â  Â Â 
Â  Â  #audio-player-controls {
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  max-width: 400px;Â 
Â  Â  Â  Â  margin-bottom: 20px;Â 
Â  Â  }
Â  Â Â 
Â  Â  #pronunciation-list { list-style: none; padding: 0; margin-top: 15px; width: 100%; max-width: 400px; text-align: left; }
Â  Â  #pronunciation-list li { padding: 10px; border-bottom: 1px dotted #e0e0e0; display: flex; justify-content: space-between; align-items: center; font-size: 1.1em; }
Â  Â  .play-button { background: none; border: none; font-size: 1.5em; cursor: pointer; color: #007bff; margin-left: 10px; transition: color 0.1s; }

Â  Â  /* TÃ³pico 3 e 5 - Table Styles */
Â  Â  .info-table {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  margin: 20px 0;
Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.05);Â 
Â  Â  Â  Â  border-radius: 10px;Â 
Â  Â  Â  Â  overflow: hidden;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* MODIFICAÃ‡ÃƒO TÃ³pico 3: Tabela de VocabulÃ¡rio menor e ajustes de cor */
Â  Â  .lesson-vocabulary .info-table {
Â  Â  Â  Â  margin: 10px auto;Â 
Â  Â  Â  Â  max-width: 400px;Â 
Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  box-shadow: none;Â 
Â  Â  }
Â  Â Â 
Â  Â  .lesson-vocabulary .info-table tr {
Â  Â  Â  Â  border: 1px solid #e0e0e0;Â 
Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  display: block;Â 
Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  }
Â  Â Â 
Â  Â  .lesson-vocabulary .info-table tr:hover {
Â  Â  Â  Â  background-color: #f6f9fc;
Â  Â  }
Â  Â Â 
Â  Â  .lesson-vocabulary .info-table th, .lesson-vocabulary .info-table td {
Â  Â  Â  Â  padding: 10px 12px; /* Padding reduzido */
Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  border: none;Â 
Â  Â  }
Â  Â Â 
Â  Â  .lesson-vocabulary h3 {
Â  Â  Â  Â  color: #333 !important; /* NOVO: Cinza Escuro */
Â  Â  Â  Â  text-align: center; /* NOVO: Centralizado */
Â  Â  }

Â  Â  /* MODIFICAÃ‡ÃƒO TÃ³pico 5: Modal de NÃºmeros com escrita e nÃºmero separados */
Â  Â  .modal-content .info-table {
Â  Â  Â  Â  max-width: 250px;Â 
Â  Â  Â  Â  margin: 0 auto;Â 
Â  Â  Â  Â  font-size: 0.9em;Â 
Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  }
Â  Â Â 
Â  Â  .modal-content .info-table th {
Â  Â  Â  Â  background-color: #f7f7f7;Â 
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-weight: 600;
Â  Â  }
Â  Â Â 
Â  Â  .modal-content .info-table td {
Â  Â  Â  Â  padding: 8px 10px;
Â  Â  }
Â  Â Â 
Â  Â  .modal-content .info-table td:first-child {
Â  Â  Â  Â  font-weight: 700; /* Letras mais grossas */
Â  Â  Â  Â  border-right: 1px solid #eee; /* Linha de separaÃ§Ã£o */
Â  Â  }


Â  Â  /* Estilo para a coluna de palavras (Topic 3) */
Â  Â  .info-table td.sentence-cell {
Â  Â  Â  Â  font-weight: 400;
Â  Â  Â  Â  color: #333;Â 
Â  Â  }
Â  Â  .info-table td.sentence-cell .highlight {
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  color: #007bff;Â 
Â  Â  }


Â  Â  /* Topic 6 Comparison Table Styles */
Â  Â  .comparison-table {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  max-width: 400px;
Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  margin: 20px auto;
Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.05);Â 
Â  Â  }
Â  Â  .comparison-table th, .comparison-table td {
Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  padding: 10px;Â 
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  font-size: 1em;Â 
Â  Â  }
Â  Â  .comparison-table th {
Â  Â  Â  Â  background-color: #f2f2f2;Â 
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .comparison-table tr:nth-child(even) {
Â  Â  Â  Â  background-color: #fff;Â 
Â  Â  }
Â  Â  .comparison-table tr:nth-child(odd) {
Â  Â  Â  Â  background-color: #f9f9f9;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* Topic 7 (FILL_IN_BLANKS) Styles */
Â  Â  .fill-in-blanks-container {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-wrap: wrap; /* CORRIGIDO: Permite quebra de linha para melhor layout */
Â  Â  Â  Â  justify-content: center; /* NOVO: Centraliza os blocos */
Â  Â  Â  Â  gap: 15px; /* NOVO: EspaÃ§o entre os blocos */
Â  Â  Â  Â  padding: 5px 0;Â 
Â  Â  }

Â  Â  .number-input-group {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-direction: column;Â 
Â  Â  Â  Â  align-items: flex-start;
Â  Â  Â  Â  gap: 2px;Â 
Â  Â  Â  Â  width: 45%; /* NOVO: Ajusta a largura para caber dois por linha (no desktop) */
Â  Â  Â  Â  max-width: 200px;Â 
Â  Â  Â  Â  padding: 8px; /* NOVO: Aumenta o padding do bloco */
Â  Â  Â  Â  border: 1px solid #eee;
Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  background-color: #f9f9f9;
Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  }

Â  Â  .number-input-group span {
Â  Â  Â  Â  font-size: 1.1em;Â 
Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  margin-bottom: 2px;
Â  Â  }

Â  Â  .number-input-group input {
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  padding: 8px 8px;Â 
Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  font-size: 0.9em;Â 
Â  Â  Â  Â  transition: border-color 0.2s;
Â  Â  Â  Â  text-transform: lowercase;Â 
Â  Â  Â  Â  box-sizing: border-box;Â 
Â  Â  }

Â  Â  .number-input-group input:focus {
Â  Â  Â  Â  border-color: #007bff;
Â  Â  Â  Â  outline: none;
Â  Â  }
Â  Â Â 
Â  Â  .number-result {
Â  Â  Â  Â  margin-top: 3px;Â 
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  text-align: left;Â 
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  font-size: 0.85em;Â 
Â  Â  }

Â  Â  .result-correct { color: #28a745; }
Â  Â  .result-incorrect { color: #dc3545; }

Â  Â  /* Topic 8 (Drag and Drop) Styles */
Â  Â  .drag-drop-overall-container {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  max-width: 600px;Â 
Â  Â  Â  Â  margin: 0 auto;Â 
Â  Â  Â  Â  padding: 20px 0;
Â  Â  }

Â  Â  /* 1. Image Gallery */
Â  Â  .image-gallery-container {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  grid-template-columns: repeat(2, 1fr);Â 
Â  Â  Â  Â  gap: 15px;Â 
Â  Â  Â  Â  margin-bottom: 30px;Â 
Â  Â  }

Â  Â  .gallery-image-wrapper {
Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 320px;Â 
Â  Â  Â  Â  border-radius: 10px;Â 
Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.1);Â 
Â  Â  }

Â  Â  .gallery-image-wrapper img {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  background-color: #fcfcfc;
Â  Â  Â  Â  display: block;
Â  Â  }

Â  Â  /* MODIFICAÃ‡ÃƒO TÃ³pico 8: Ajustes de foco para melhor centralizaÃ§Ã£o */
Â  Â  .gallery-image-wrapper:nth-child(1) img {Â 
Â  Â  Â  Â  object-position: center 25%; /* Ajuste fino */
Â  Â  }
Â  Â  .gallery-image-wrapper:nth-child(3) img {Â 
Â  Â  Â  Â  object-position: center 5%; /* Ajuste fino para evitar corte de cabeÃ§a */
Â  Â  }
Â  Â Â 

Â  Â  .image-number-label {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 10px;
Â  Â  Â  Â  left: 10px;
Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  z-index: 10;
Â  Â  }

Â  Â  @media (max-width: 480px) {
Â  Â  Â  Â  .image-gallery-container {
Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .gallery-image-wrapper {
Â  Â  Â  Â  Â  Â  height: 250px;Â 
Â  Â  Â  Â  }
Â  Â  }

Â  Â  /* 2. Sentence List */
Â  Â  .sentence-list-container {
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  gap: 12px;Â 
Â  Â  Â  Â  margin-bottom: 30px;Â 
Â  Â  }

Â  Â  .sentence-item {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: flex-start;Â 
Â  Â  Â  Â  font-size: 1.1em;Â 
Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  line-height: 1.4;
Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  padding: 3px 0;
Â  Â  }

Â  Â  .sentence-text-before {
Â  Â  Â  Â  margin-right: 5px;Â 
Â  Â  }

Â  Â  /* Drop Zone */
Â  Â  .drop-zone {
Â  Â  Â  Â  min-width: 120px;Â 
Â  Â  Â  Â  min-height: 2.2em;Â 
Â  Â  Â  Â  border: 1px solid #cccccc;Â 
Â  Â  Â  Â  border-radius: 6px;Â 
Â  Â  Â  Â  padding: 3px 8px;Â 
Â  Â  Â  Â  line-height: 1.3;Â 
Â  Â  Â  Â  display: inline-flex;Â 
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  flex-grow: 0;Â 
Â  Â  Â  Â  transition: background-color 0.1s, border-color 0.1s;
Â  Â  Â  Â  white-space: nowrap;Â 
Â  Â  }
Â  Â Â 
Â  Â  .drop-zone.drag-over {
Â  Â  Â  Â  background-color: #eef7ff;Â 
Â  Â  Â  Â  border-color: #007bff;Â 
Â  Â  }

Â  Â  /* NOVO ESTILO: Bordas mais limpas para correÃ§Ã£o de Drag and Drop */
Â  Â  .drop-zone.correct-drop {
Â  Â  Â  Â  border: 2px solid #28a745 !important;Â 
Â  Â  Â  Â  background-color: #ffffff; /* Fundo limpo */
Â  Â  }

Â  Â  .drop-zone.incorrect-drop {
Â  Â  Â  Â  border: 2px solid #dc3545 !important;Â 
Â  Â  Â  Â  background-color: #ffffff; /* Fundo limpo */
Â  Â  }

Â  Â  /* 3. Draggable Words Container */
Â  Â  .draggable-words-container {
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  justify-content: center;Â 
Â  Â  Â  Â  gap: 10px;Â 
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  border: 1px solid #e0e0e0;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  background-color: #f8f8f8;
Â  Â  Â  Â  box-shadow: inset 0 1px 3px rgba(0,0,0,0.02);Â 
Â  Â  }

Â  Â  /* Draggable Word */
Â  Â  .draggable-word {
Â  Â  Â  Â  cursor: grab;
Â  Â  Â  Â  background-color: #ffffff;Â 
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  padding: 9px 18px;Â 
Â  Â  Â  Â  border-radius: 18px;Â 
Â  Â  Â  Â  font-size: 0.95em;Â 
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.08);Â 
Â  Â  Â  Â  border: 1px solid #e0e0e0;Â 
Â  Â  Â  Â  transition: opacity 0.2s, transform 0.1s, background-color 0.2s, box-shadow 0.2s;
Â  Â  }
Â  Â Â 
Â  Â  .draggable-word:hover {
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
Â  Â  }
Â  Â Â 
Â  Â  .draggable-word.dragging {
Â  Â  Â  Â  opacity: 0.6;Â 
Â  Â  Â  Â  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
Â  Â  Â  Â  transform: scale(0.98);
Â  Â  }
Â  Â Â 
Â  Â  /* Dropped Word Style */
Â  Â  .drop-zone .draggable-word {
Â  Â  Â  Â  cursor: default;
Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  margin: 0;Â 
Â  Â  Â  Â  padding: 5px 10px;Â 
Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  background-color: #e8f0fe;Â 
Â  Â  Â  Â  border-color: #c0d8f8;
Â  Â  Â  Â  color: #004085;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  display: block;Â 
Â  Â  }

Â  Â  /* NOVO ESTILO: Fundo limpo para a correÃ§Ã£o */
Â  Â  .correct-word-display {
Â  Â  Â  Â  background-color: transparent !important; /* Fundo transparente */
Â  Â  Â  Â  color: #dc3545 !important; /* Texto da palavra correta em vermelho */
Â  Â  Â  Â  padding: 0;Â 
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  font-size: 0.9em;Â 
Â  Â  }

Â  Â  /* Estilos do Modal (TÃ³pico 5) */
Â  Â  .modal {
Â  Â  Â  Â  display: none; /* CORRIGIDO: Esconde por padrÃ£o */
Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  z-index: 1002;Â 
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  height: 100%;Â 
Â  Â  Â  Â  overflow: auto;Â 
Â  Â  Â  Â  background-color: rgba(0,0,0,0.4);Â 
Â  Â  Â  Â  /* Novos estilos para animaÃ§Ã£o/esconder instantaneamente */
Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  transition: opacity 0.3s ease-in-out;
Â  Â  Â  Â  justify-content: center;Â 
Â  Â  Â  Â  align-items: center;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* Nova classe para exibir o modal com animaÃ§Ã£o */
Â  Â  .modal.show-modal {
Â  Â  Â  Â  display: flex; /* Usa flex para centralizar APENAS quando show-modal Ã© ativado */
Â  Â  Â  Â  opacity: 1;
Â  Â  }

Â  Â  .modal-content {
Â  Â  Â  Â  background-color: transparent;Â 
Â  Â  Â  Â  padding: 0;Â 
Â  Â  Â  Â  border: none;Â 
Â  Â  Â  Â  box-shadow: none;Â 
Â  Â  Â  Â  width: auto;Â 
Â  Â  Â  Â  max-width: 90%;Â 
Â  Â  Â  Â  margin: 0;Â 
Â  Â  }

Â  Â  .modal-content-wrapper {
Â  Â  Â  Â  background-color: #fefefe;Â 
Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  border: 1px solid #888;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
Â  Â  }

Â  Â  .close-button {
Â  Â  Â  Â  color: #aaa;
Â  Â  Â  Â  float: right;
Â  Â  Â  Â  font-size: 28px;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  margin-left: 10px;
Â  Â  }
Â  Â Â 
Â  Â  .close-button:hover,
Â  Â  .close-button:focus {
Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  text-decoration: none;
Â  Â  }
</style>
</head>
<body>

<div id="home-screen">
Â  Â  <h2>BEGINNER</h2>
Â  Â  <div class="chapter-grid">
Â  Â  Â  Â  Â  Â  </div>
</div>

<div id="lesson-screen">
Â  Â  Â  Â  <h3 id="lesson-title" style="text-align: center; margin-bottom: 25px;"></h3> 
Â  Â Â 
Â  Â  <div class="quiz-question" id="quiz-question-main">
Â  Â  Â  Â  <img id="question-image" src="" alt="Lesson Image" style="display: none;">Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="hotspot-container" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;">
Â  Â  Â  Â  Â  Â  <div class="hotspot" id="hotspot-1" style="top: 20%; left: 20%;" onclick="openNumberModal('one-to-ten')">+</div>
Â  Â  Â  Â  Â  Â  <div class="hotspot" id="hotspot-2" style="top: 20%; left: 70%;" onclick="openNumberModal('tens')">+</div>
Â  Â  Â  Â  Â  Â  <div class="hotspot" id="hotspot-3" style="top: 70%; left: 20%;" onclick="openNumberModal('teens')">+</div>
Â  Â  Â  Â  Â  Â  <div class="hotspot" id="hotspot-4" style="top: 70%; left: 70%;" onclick="openNumberModal('combined')">+</div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <p id="question-text"></p>Â 
Â  Â Â 
Â  Â  <div id="options-container"></div>
Â  Â Â 
Â  Â  Â  Â  <div id="info-table-container"></div> Â  Â  <div id="pronunciation-container" style="display: none;">
Â  Â  Â  Â  <p class="word-to-practice" id="current-instruction"></p>Â 
Â  Â  Â  Â  <audio id="audio-player-controls" controls preload="auto"></audio>Â 
Â  Â  Â  Â  <div id="comparison-table-container"></div>
Â  Â  Â  Â  <ul id="pronunciation-list"></ul>
Â  Â  </div>
Â  Â  <div id="fill-in-blanks-container"></div> Â  Â  <div id="drag-drop-container"></div> Â  Â Â 
Â  Â  <p id="feedback" style="font-weight: bold; margin-top: 15px; text-align: center;"></p>
Â  Â  
</div>

<button class="menu-toggle" onclick="openNav()">â˜°</button>

<div id="side-menu" class="side-menu">
Â  Â  <a href="javascript:void(0)" class="close-btn" onclick="closeNav()">&times;</a>
Â  Â  </div>

<div class="nav-buttons">
Â  Â  <span id="progress-indicator"></span>Â 
Â  Â  <button id="back-btn" onclick="backQuestion()">Back</button>
Â  Â  <button id="next-btn" onclick="goNext()">Next</button>
</div>

<div id="numberModal" class="modal">
Â  Â  <div class="modal-content">
Â  Â  Â  Â  <div class="modal-content-wrapper">
Â  Â  Â  Â  Â  Â  <span class="close-button" onclick="closeNumberModal()">&times;</span>
Â  Â  Â  Â  Â  Â  <h3 id="modal-title" style="margin-top: 0; text-align: center;">Numbers</h3>
Â  Â  Â  Â  Â  Â  <div id="modal-body">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<script>
Â  Â  const GITHUB_RAW_BASE_URL = "https://raw.githubusercontent.com/tgteodoro123-bit/english-app/main/";Â 
Â  Â Â 
Â  Â  const BACKGROUND_IMAGES = [
Â  Â  Â  Â  "https://images.pexels.com/photos/1036321/pexels-photo-1036321.jpeg?auto=compress&cs=tinysrgb&w=800",
Â  Â  Â  Â  "https://images.pexels.com/photos/2076011/pexels-photo-2076011.jpeg?auto=compress&cs=tinysrgb&w=800",
Â  Â  Â  Â  "https://images.pexels.com/photos/6684742/pexels-photo-6684742.jpeg?auto=compress&cs=tinysrgb&w=800",
Â  Â  Â  Â  "https://images.pexels.com/photos/4144294/pexels-photo-4144294.jpeg?auto=compress&cs=tinysrgb&w=800",
Â  Â  Â  Â  "https://images.pexels.com/photos/1481005/pexels-photo-1481005.jpeg?auto=compress&cs=tinysrgb&w=800",
Â  Â  Â  Â  "https://images.pexels.com/photos/3401403/pexels-photo-3401403.jpeg?auto=compress&cs=tinysrgb&w=800",
Â  Â  ];
Â  Â Â 
Â  Â  // --- TOPIC 8 DATA ---
Â  Â  const DRAG_AND_DROP_WORDS = [
Â  Â  Â  Â  { id: 'word-1', text: 'friend', correctTarget: 'drop-1' },
Â  Â  Â  Â  { id: 'word-2', text: 'phone number', correctTarget: 'drop-2' },
Â  Â  Â  Â  { id: 'word-3', text: 'teacher', correctTarget: 'drop-3' },
Â  Â  Â  Â  { id: 'word-4', text: 'address number', correctTarget: 'drop-4' }
Â  Â  ];
Â  Â Â 
Â  Â  const DRAG_AND_DROP_SENTENCES = [
Â  Â  Â  Â  {Â 
Â  Â  Â  Â  Â  Â  id: 'sent-1',Â 
Â  Â  Â  Â  Â  Â  text: '1. This is my best ____.',Â 
Â  Â  Â  Â  Â  Â  image: 'friendtopico8.jpg',Â 
Â  Â  Â  Â  Â  Â  dropId: 'drop-1',Â 
Â  Â  Â  Â  Â  Â  correct: 'friend' ,
Â  Â  Â  Â  Â  Â  userAnswer: null,Â 
Â  Â  Â  Â  Â  Â  isCorrect: false
Â  Â  Â  Â  },
Â  Â  Â  Â  {Â 
Â  Â  Â  Â  Â  Â  id: 'sent-2',Â 
Â  Â  Â  Â  Â  Â  text: '2. It is a ____.',Â 
Â  Â  Â  Â  Â  Â  image: 'phonenumbertopico8.jpg',Â 
Â  Â  Â  Â  Â  Â  dropId: 'drop-2',Â 
Â  Â  Â  Â  Â  Â  correct: 'phone number' ,
Â  Â  Â  Â  Â  Â  userAnswer: null,Â 
Â  Â  Â  Â  Â  Â  isCorrect: false
Â  Â  Â  Â  },
Â  Â  Â  Â  {Â 
Â  Â  Â  Â  Â  Â  id: 'sent-3',Â 
Â  Â  Â  Â  Â  Â  text: '3. He is a math ____.',Â 
Â  Â  Â  Â  Â  Â  image: 'teachertopico8.jpg',Â 
Â  Â  Â  Â  Â  Â  dropId: 'drop-3',Â 
Â  Â  Â  Â  Â  Â  correct: 'teacher' ,
Â  Â  Â  Â  Â  Â  userAnswer: null,Â 
Â  Â  Â  Â  Â  Â  isCorrect: false
Â  Â  Â  Â  },
Â  Â  Â  Â  {Â 
Â  Â  Â  Â  Â  Â  id: 'sent-4',Â 
Â  Â  Â  Â  Â  Â  text: '4. It is an ____.',Â 
Â  Â  Â  Â  Â  Â  image: 'addressnumber2topico8.png',Â 
Â  Â  Â  Â  Â  Â  dropId: 'drop-4',Â 
Â  Â  Â  Â  Â  Â  correct: 'address number' ,
Â  Â  Â  Â  Â  Â  userAnswer: null,Â 
Â  Â  Â  Â  Â  Â  isCorrect: false
Â  Â  Â  Â  }
Â  Â  ];

Â  Â  const QUESTIONS = [
Â  Â  Â  Â  // Topics 1 to 4Â 
Â  Â  Â  Â  { id: 1, question: "What do you see in the image?", image: "numeros.jpg", options: { A: "The Alphabet", B: "Colors", C: "Numbers" }, correctAnswer: 'C', correctWord: 'Numbers', chapter: 1, title: "1. Numbers Overview" },
Â  Â  Â  Â  { id: 2, question: "Complete the self-introduction: 'Hello, ____ Marcus.'", image: "cumprimento.jpg", options: { A: "I is", B: "I am", C: "I are" }, correctAnswer: 'B', correctWord: 'I am', chapter: 1, title: "2. Verb 'To Be' (I am)" },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // TÃ³pico 3 - Vocabulary (Tabela menor e cor do tÃ­tulo)
Â  Â  Â  Â  { id: 3,Â 
Â  Â  Â  Â  Â  Â  question: `<h3 style="color: #333; font-size: 2em; margin-bottom: 20px; text-align: center;">Vocabulary</h3>`,Â 
Â  Â  Â  Â  Â  Â  options: [Â 
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'address number', example: 'My <span class="highlight">address number</span> is 34.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'student', example: 'I am a <span class="highlight">student</span>.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'friend', example: 'He is my new <span class="highlight">friend</span>, David.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'great', example: 'Mr. David is a <span class="highlight">great</span> teacher.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'phone number', example: 'My <span class="highlight">phone number</span> is: (987) 654-1234.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'American', example: 'Sofia is <span class="highlight">American</span>.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'teacher', example: 'I love my English <span class="highlight">teacher</span>.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'new', example: 'Lucas is a <span class="highlight">new</span> student, too.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'years old', example: 'I am 18 <span class="highlight">years old</span>.' },
Â  Â  Â  Â  Â  Â  Â  Â  { word: 'nationality', example: 'My <span class="highlight">nationality</span>? I\'m French.' }
Â  Â  Â  Â  Â  Â  ],Â 
Â  Â  Â  Â  Â  Â  correctAnswer: 'INFO_TABLE', chapter: 1, title: "3. Lesson Vocabulary"Â 
Â  Â  Â  Â  },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // TÃ³pico 4 - PronÃºncia (Remove instruÃ§Ã£o repetida)
Â  Â  Â  Â  { id: 4,Â 
Â  Â  Â  Â  Â  Â  question: "Click the play button (â–¶ï¸) next to each word to listen and practice.",Â 
Â  Â  Â  Â  Â  Â  options: { "Address number": "addressnumber.mp3", "American": "American.mp3", "Friend": "friend.mp3", "Great": "great.mp3", "Nationality": "nationality.mp3", "New": "new.mp3", "Phone number": "phonenumber.mp3", "Student": "student.mp3", "Teacher": "teacher.mp3", "Years old": "yearsold.mp3" },Â 
Â  Â  Â  Â  Â  Â  correctAnswer: 'PRONUNCIATION_SET',Â 
Â  Â  Â  Â  Â  Â  chapter: 1,Â 
Â  Â  Â  Â  Â  Â  title: "4. Word Pronunciation"Â 
Â  Â  Â  Â  },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Topic 5Â 
Â  Â  Â  Â  { id: 5, question: "Click on the '+' signs to review the number groups.", image: "topico5.jpg", options: {}, correctAnswer: 'INTERACTIVE_BINGO', chapter: 1, title: "5. Interactive Bingo Review" },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Topic 6 (Remove instruÃ§Ã£o repetida)
Â  Â  Â  Â  { id: 6,Â 
Â  Â  Â  Â  Â  Â  question: "Listen and notice the difference between -teen and -ty.",Â 
Â  Â  Â  Â  Â  Â  options: { "13: (Thirteen) â€“ 30 (Thirty)": "teenety.mp3" },Â 
Â  Â  Â  Â  Â  Â  correctAnswer: 'PRONUNCIATION_SET',Â 
Â  Â  Â  Â  Â  Â  chapter: 1,
Â  Â  Â  Â  Â  Â  title: "6. Pronunciation: Teen vs Ty"
Â  Â  Â  Â  },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Topic 7Â 
Â  Â  Â  Â  {Â 
Â  Â  Â  Â  Â  Â  id: 7,Â 
Â  Â  Â  Â  Â  Â  question: "Write the numbers in English:",Â 
Â  Â  Â  Â  Â  Â  correctAnswer: 'FILL_IN_BLANKS',Â 
Â  Â  Â  Â  Â  Â  chapter: 1,Â 
Â  Â  Â  Â  Â  Â  title: "7. Writing Numbers Practice",
Â  Â  Â  Â  Â  Â  data: [
Â  Â  Â  Â  Â  Â  Â  Â  { num: 10, correct: "ten" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 22, correct: "twenty-two" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 36, correct: "thirty-six" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 12, correct: "twelve" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 44, correct: "forty-four" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 99, correct: "ninety-nine" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 8, correct: "eight" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 57, correct: "fifty-seven" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 60, correct: "sixty" },Â 
Â  Â  Â  Â  Â  Â  Â  Â  { num: 16, correct: "sixteen" }
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Topic 8Â 
Â  Â  Â  Â  { id: 8, question: "Drag the correct word to complete the sentences based on the images.",Â 
Â  Â  Â  Â  Â  Â  correctAnswer: 'DRAG_AND_DROP',Â 
Â  Â  Â  Â  Â  Â  chapter: 1,Â 
Â  Â  Â  Â  Â  Â  title: "8. Drag & Drop: Vocabulary",
Â  Â  Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  Â  Â  Â  words: DRAG_AND_DROP_WORDS,
Â  Â  Â  Â  Â  Â  Â  Â  sentences: DRAG_AND_DROP_SENTENCES
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  },
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Topics 9 to 13Â 
Â  Â  Â  Â  { id: 9, question: "What is the color of the sky on a sunny day?", image: "", options: { A: "Red", B: "Yellow", C: "Blue" }, correctAnswer: 'C', correctWord: 'Blue', chapter: 1, title: "9. Quiz: Colors" },
Â  Â  Â  Â  { id: 10, question: "What is the English word for 'cadeira'?", image: "", options: { A: "Book", B: "Chair", C: "Table" }, correctAnswer: 'B', correctWord: 'Chair', chapter: 1, title: "10. Quiz: Objects" },
Â  Â  Â  Â  { id: 11, question: "Identify the color of the object in the image:", image: "apple.jpg", options: { A: "Green", B: "Red", C: "Orange" }, correctAnswer: 'B', correctWord: 'Red', chapter: 1, title: "11. Quiz: Image Color" },
Â  Â  Â  Â  { id: 12, question: "How do you ask 'Where are you from?'", image: "", options: { A: "What your name is?", B: "Where from you are?", C: "Where are you from?" }, correctAnswer: 'C', correctWord: 'Where are you from?', chapter: 1, title: "12. Quiz: Common Phrases" },
Â  Â  Â  Â  { id: 13, question: "Complete the sentence: 'I want ___ apple.'", image: "", options: { A: "a", B: "an", C: "the" }, correctAnswer: 'B', correctWord: 'an', chapter: 1, title: "13. Quiz: Articles" },
Â  Â  ];
Â  Â Â 
Â  Â  let currentQuestionIndex = 0;
Â  Â  let lessonQuestions = [];Â 
Â  Â  let currentChapter = 1;Â 
Â  Â  let selectedOption = null; // Armazena a opÃ§Ã£o selecionada
Â  Â Â 
Â  Â  // VariÃ¡veis que vocÃª jÃ¡ definiu (DOM elements)
Â  Â  const homeScreen = document.getElementById('home-screen');
Â  Â  const lessonScreen = document.getElementById('lesson-screen');
Â  Â  const optionsContainer = document.getElementById('options-container');
Â  Â  const feedback = document.getElementById('feedback');
Â  Â  const nextBtn = document.getElementById('next-btn');
Â  Â  const backBtn = document.getElementById('back-btn');
Â  Â  const questionText = document.getElementById('question-text');
Â  Â  const questionImage = document.getElementById('question-image');
Â  Â  const progressIndicator = document.getElementById('progress-indicator');
Â  Â  const lessonTitle = document.getElementById('lesson-title');
Â  Â Â 
Â  Â  const sideMenu = document.getElementById('side-menu');Â 
Â  Â  const navButtonsContainer = document.querySelector('.nav-buttons');Â 
Â  Â  const menuToggle = document.querySelector('.menu-toggle');Â 

Â  Â  // Containers de ConteÃºdo EspecÃ­fico
Â  Â  const infoTableContainer = document.getElementById('info-table-container');
Â  Â  const pronunciationContainer = document.getElementById('pronunciation-container');
Â  Â  const fillInBlanksContainer = document.getElementById('fill-in-blanks-container');
Â  Â  const dragDropContainer = document.getElementById('drag-drop-container');
Â  Â  const hotspotContainer = document.getElementById('hotspot-container');
Â  Â Â 
Â  Â  let answerChecked = false; // Controla se a resposta (ou check) jÃ¡ foi processada
Â  Â Â 
Â  Â  // FunÃ§Ãµes de NavegaÃ§Ã£o de Tela
Â  Â  function showScreen(screenId) {
Â  Â  Â  Â  homeScreen.style.display = 'none';
Â  Â  Â  Â  lessonScreen.style.display = 'none';
Â  Â  Â  Â  navButtonsContainer.style.display = 'none';
Â  Â  Â  Â  menuToggle.style.display = 'none';
Â  Â  Â  Â  closeNav();

Â  Â  Â  Â  if (screenId === 'home') {
Â  Â  Â  Â  Â  Â  homeScreen.style.display = 'block';
Â  Â  Â  Â  } else if (screenId === 'lesson') {
Â  Â  Â  Â  Â  Â  lessonScreen.style.display = 'block';
Â  Â  Â  Â  Â  Â  navButtonsContainer.style.display = 'flex';
Â  Â  Â  Â  Â  Â  menuToggle.style.display = 'block';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // RENDER CHAPTER CARDS ON HOME SCREEN
Â  Â  function renderChapterCards() {
Â  Â  Â  Â  const chapterGrid = document.querySelector('.chapter-grid');
Â  Â  Â  Â  chapterGrid.innerHTML = ''; // Limpa antes de renderizar

Â  Â  Â  Â  for (let i = 1; i <= 24; i++) {
Â  Â  Â  Â  Â  Â  const bgUrl = BACKGROUND_IMAGES[(i - 1) % BACKGROUND_IMAGES.length];
Â  Â  Â  Â  Â  Â  let cardTopicName = i === 1 ? 'Basic Foundations (13 Topics Ready!)' : `Module ${i} Content`;Â 
Â  Â  Â  Â  Â  Â  chapterGrid.innerHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="chapter-card" id="card-${i}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-background-image" style="background-image: url('${bgUrl}');"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-text-area">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-content-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Beginner ${i}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>${cardTopicName}</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="start-button" onclick="startLesson(${i}); event.stopPropagation();">Start</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  function populateSideMenu(chapterNumber) {
Â  Â  Â  Â  sideMenu.innerHTML = `<a href="javascript:void(0)" class="close-btn" onclick="closeNav()">&times;</a>`;
Â  Â  Â  Â  
Â  Â  Â  Â  // Adicionar link para a Home
Â  Â  Â  Â  sideMenu.innerHTML += `<a href="#" onclick="showScreen('home'); closeNav();">ğŸ  Home (Chapters)</a>`;

Â  Â  Â  Â  lessonQuestions.forEach((q, index) => {
Â  Â  Â  Â  Â  Â  // Usamos o ID do array (index + 1) para o link, nÃ£o o ID global do tÃ³pico
Â  Â  Â  Â  Â  Â  const linkIndex = index; 
Â  Â  Â  Â  Â  Â  sideMenu.innerHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" onclick="navigateToQuestion(${linkIndex}); closeNav();" id="menu-link-${linkIndex}">${q.title}</a>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  });
Â  Â  }

Â  Â  function startLesson(chapter) {
Â  Â  Â  Â  currentChapter = chapter;
Â  Â  Â  Â  lessonQuestions = QUESTIONS.filter(q => q.chapter === chapter);
Â  Â  Â  Â  currentQuestionIndex = 0;
Â  Â  Â  Â  
Â  Â  Â  Â  // Navega para a tela da liÃ§Ã£o
Â  Â  Â  Â  showScreen('lesson'); 
Â  Â  Â  Â  
Â  Â  Â  Â  // Preenche o menu lateral
Â  Â  Â  Â  populateSideMenu(chapter);
Â  Â  Â  Â  
Â  Â  Â  Â  // Carrega a primeira liÃ§Ã£o
Â  Â  Â  Â  loadQuestion(currentQuestionIndex);
Â  Â  }

Â  Â  // --- FunÃ§Ã£o para carregar o conteÃºdo da liÃ§Ã£o ---
Â  Â  function loadQuestion(index) {
Â  Â  Â  Â  if (index < 0 || index >= lessonQuestions.length) return;

Â  Â  Â  Â  currentQuestionIndex = index;
Â  Â  Â  Â  const questionData = lessonQuestions[index];
Â  Â  Â  Â  
Â  Â  Â  Â  // 1. Limpa os containers de conteÃºdo
Â  Â  Â  Â  optionsContainer.innerHTML = '';
Â  Â  Â  Â  infoTableContainer.innerHTML = '';
Â  Â  Â  Â  fillInBlanksContainer.innerHTML = '';
Â  Â  Â  Â  dragDropContainer.innerHTML = '';
Â  Â  Â  Â  feedback.textContent = '';
Â  Â  Â  Â  
Â  Â  Â  Â  questionImage.style.display = 'none';
Â  Â  Â  Â  pronunciationContainer.style.display = 'none';
Â  Â  Â  Â  hotspotContainer.style.display = 'none';
Â  Â  Â  Â  optionsContainer.style.display = 'block';

Â  Â  Â  Â  // 2. Atualiza o tÃ­tulo e o texto da pergunta
Â  Â  Â  Â  lessonTitle.textContent = questionData.title;
Â  Â  Â  Â  questionText.innerHTML = questionData.question;
Â  Â  Â  Â  
Â  Â  Â  Â  // 3. Carrega a Imagem (se houver)
Â  Â  Â  Â  if (questionData.image) {
Â  Â  Â  Â  Â  Â  questionImage.src = GITHUB_RAW_BASE_URL + questionData.image;
Â  Â  Â  Â  Â  Â  questionImage.style.display = 'block';
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // 4. Carrega o conteÃºdo especÃ­fico
Â  Â  Â  Â  switch(questionData.correctAnswer) {
Â  Â  Â  Â  Â  Â  case 'INFO_TABLE':
Â  Â  Â  Â  Â  Â  Â  Â  renderInfoTable(questionData);
Â  Â  Â  Â  Â  Â  Â  Â  optionsContainer.style.display = 'none'; // NÃ£o tem opÃ§Ãµes de quiz
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'PRONUNCIATION_SET':
Â  Â  Â  Â  Â  Â  Â  Â  renderPronunciation(questionData);
Â  Â  Â  Â  Â  Â  Â  Â  optionsContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'INTERACTIVE_BINGO':
Â  Â  Â  Â  Â  Â  Â  Â  hotspotContainer.style.display = 'block'; // Mostra os hotspots
Â  Â  Â  Â  Â  Â  Â  Â  optionsContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'FILL_IN_BLANKS':
Â  Â  Â  Â  Â  Â  Â  Â  renderFillInBlanks(questionData);
Â  Â  Â  Â  Â  Â  Â  Â  optionsContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  case 'DRAG_AND_DROP':
Â  Â  Â  Â  Â  Â  Â  Â  renderDragAndDrop(questionData);
Â  Â  Â  Â  Â  Â  Â  Â  optionsContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  default:
Â  Â  Â  Â  Â  Â  Â  Â  renderMultipleChoice(questionData); // PadrÃ£o
Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  }

Â  Â  Â  Â  // 5. Atualiza a navegaÃ§Ã£o e o progresso
Â  Â  Â  Â  updateNavButtons();
Â  Â  Â  Â  updateProgress();
Â  Â  Â  Â  updateSideMenuHighlight();
Â  Â  }
Â  Â Â 
Â  Â  // --- FunÃ§Ãµes de RenderizaÃ§Ã£o EspecÃ­ficas ---
Â  Â  
Â  Â  function renderMultipleChoice(questionData) {
Â  Â  Â  Â  optionsContainer.innerHTML = Object.entries(questionData.options).map(([key, value]) => 
Â  Â  Â  Â  Â  Â  `<div class="option" data-answer="${key}" onclick="checkAnswer(this, '${key}')">${key}: ${value}</div>`
Â  Â  Â  Â  ).join('');
Â  Â  Â  Â  answerChecked = false;
Â  Â  Â  Â  nextBtn.textContent = 'Check Answer';
Â  Â  }

Â  Â  function renderInfoTable(questionData) {
Â  Â  Â  Â  infoTableContainer.classList.add('lesson-vocabulary');
Â  Â  Â  Â  let tableHTML = `
Â  Â  Â  Â  Â  Â  ${questionData.question}
Â  Â  Â  Â  Â  Â  <table class="info-table">
Â  Â  Â  Â  Â  Â  Â  Â  <thead><tr><th>Word/Expression</th><th>Example Sentence</th></tr></thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  `;
Â  Â  Â  Â  questionData.options.forEach(item => {
Â  Â  Â  Â  Â  Â  tableHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${item.word}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="sentence-cell">${item.example}</td>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  });
Â  Â  Â  Â  tableHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  `;
Â  Â  Â  Â  infoTableContainer.innerHTML = tableHTML;
Â  Â  Â  Â  nextBtn.textContent = 'Next';
Â  Â  }

Â  Â  function renderPronunciation(questionData) {
Â  Â  Â  Â  pronunciationContainer.style.display = 'flex';
Â  Â  Â  Â  document.getElementById('current-instruction').textContent = questionData.question;
Â  Â  Â  Â  
Â  Â  Â  Â  const list = document.getElementById('pronunciation-list');
Â  Â  Â  Â  list.innerHTML = '';

Â  Â  Â  Â  Object.entries(questionData.options).forEach(([word, audioFile]) => {
Â  Â  Â  Â  Â  Â  const listItem = document.createElement('li');
Â  Â  Â  Â  Â  Â  listItem.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <span>${word}</span>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="play-button" onclick="playAudio('${GITHUB_RAW_BASE_URL + audioFile}')">â–¶ï¸</button>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  list.appendChild(listItem);
Â  Â  Â  Â  });
Â  Â  Â  Â  
Â  Â  Â  Â  // ConteÃºdo do TÃ³pico 6: Tabela de comparaÃ§Ã£o
Â  Â  Â  Â  if (questionData.id === 6) {
Â  Â  Â  Â  Â  Â  document.getElementById('comparison-table-container').innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <table class="comparison-table">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><th>-teen (long vowel)</th><th>-ty (short vowel)</th></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>13 (Thir**teen**)</td><td>30 (Thir**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>14 (Four**teen**)</td><td>40 (Four**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>15 (Fif**teen**)</td><td>50 (Fif**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>16 (Six**teen**)</td><td>60 (Six**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>17 (Seven**teen**)</td><td>70 (Seven**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>18 (Eigh**teen**)</td><td>80 (Eigh**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td>19 (Nine**teen**)</td><td>90 (Nine**ty**)</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  document.getElementById('comparison-table-container').innerHTML = '';
Â  Â  Â  Â  }
Â  Â  Â  Â  nextBtn.textContent = 'Next';
Â  Â  }

Â  Â  function renderFillInBlanks(questionData) {
Â  Â  Â  Â  let html = '<div class="fill-in-blanks-container">';
Â  Â  Â  Â  questionData.data.forEach((item, index) => {
Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="number-input-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${item.num}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="input-${index}" placeholder="Write the word" onchange="checkFillInBlanksAnswer(${index})" data-correct="${item.correct.toLowerCase()}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="result-${index}" class="number-result"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  });
Â  Â  Â  Â  html += '</div>';
Â  Â  Â  Â  fillInBlanksContainer.innerHTML = html;
Â  Â  Â  Â  nextBtn.textContent = 'Check All';
Â  Â  Â  Â  nextBtn.onclick = checkAllFillInBlanks;
Â  Â  }

Â  Â  function renderDragAndDrop(questionData) {
Â  Â  Â  Â  let html = '<div class="drag-drop-overall-container">';
Â  Â  Â  Â  
Â  Â  Â  Â  // Imagens
Â  Â  Â  Â  html += '<div class="image-gallery-container">';
Â  Â  Â  Â  questionData.data.sentences.forEach((sent, index) => {
Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="gallery-image-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="${GITHUB_RAW_BASE_URL + sent.image}" alt="Image for question ${sent.id}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="image-number-label">${index + 1}</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  });
Â  Â  Â  Â  html += '</div>';

Â  Â  Â  Â  // Palavras ArrastÃ¡veis
Â  Â  Â  Â  html += '<div class="draggable-words-container">';
Â  Â  Â  Â  questionData.data.words.forEach(word => {
Â  Â  Â  Â  Â  Â  html += `<div class="draggable-word" id="${word.id}" draggable="true" data-correct-target="${word.correctTarget}" ondragstart="dragStart(event)">${word.text}</div>`;
Â  Â  Â  Â  });
Â  Â  Â  Â  html += '</div>';

Â  Â  Â  Â  // Frases com Drop Zones
Â  Â  Â  Â  html += '<div class="sentence-list-container">';
Â  Â  Â  Â  questionData.data.sentences.forEach(sent => {
Â  Â  Â  Â  Â  Â  // Procura pelo placeholder ____ e o substitui pelo drop zone
Â  Â  Â  Â  Â  Â  const parts = sent.text.split('____');
Â  Â  Â  Â  Â  Â  const sentenceHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="sentence-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="sentence-text-before">${parts[0].trim()}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drop-zone" id="${sent.dropId}" ondragover="dragOver(event)" ondrop="drop(event)" ondragleave="dragLeave(event)"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="sentence-text-after">${parts[1] ? parts[1].trim() : ''}</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  html += sentenceHTML;
Â  Â  Â  Â  });
Â  Â  Â  Â  html += '</div>';
Â  Â  Â  Â  
Â  Â  Â  Â  html += '</div>';
Â  Â  Â  Â  dragDropContainer.innerHTML = html;
Â  Â  Â  Â  nextBtn.textContent = 'Check Answers';
Â  Â  Â  Â  nextBtn.onclick = checkDragAndDrop;
Â  Â  }

Â  Â  // --- FunÃ§Ãµes de LÃ³gica de NavegaÃ§Ã£o e CorreÃ§Ã£o ---

Â  Â  function updateNavButtons() {
Â  Â  Â  Â  backBtn.disabled = currentQuestionIndex === 0;
Â  Â  Â  Â  
Â  Â  Â  Â  // O botÃ£o "Next" agora tem a funÃ§Ã£o determinada por cada loadQuestion
Â  Â  Â  Â  const questionType = lessonQuestions[currentQuestionIndex].correctAnswer;
Â  Â  Â  Â  
Â  Â  Â  Â  if (questionType === 'INFO_TABLE' || questionType === 'PRONUNCIATION_SET' || questionType === 'INTERACTIVE_BINGO') {
Â  Â  Â  Â  Â  Â  // Para tÃ³picos informativos ou interativos sem "checar", o botÃ£o "Next" avanÃ§a
Â  Â  Â  Â  Â  Â  nextBtn.textContent = 'Next';
Â  Â  Â  Â  Â  Â  nextBtn.onclick = goNext;
Â  Â  Â  Â  } else if (questionType === 'FILL_IN_BLANKS') {
Â  Â  Â  Â  Â  Â  // JÃ¡ definido em renderFillInBlanks
Â  Â  Â  Â  } else if (questionType === 'DRAG_AND_DROP') {
Â  Â  Â  Â  Â  Â  // JÃ¡ definido em renderDragAndDrop
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // PadrÃ£o: Multiple Choice
Â  Â  Â  Â  Â  Â  nextBtn.textContent = answerChecked ? 'Next' : 'Check Answer';
Â  Â  Â  Â  Â  Â  nextBtn.onclick = answerChecked ? goNext : checkMultipleChoiceAnswer;
Â  Â  Â  Â  Â  Â  nextBtn.disabled = !selectedOption && !answerChecked; // Desabilita se nÃ£o selecionou e nÃ£o checou
Â  Â  Â  Â  }

Â  Â  Â  Â  // Desabilita o Next na Ãºltima pergunta (a menos que seja um quiz que precise ser checado)
Â  Â  Â  Â  if (currentQuestionIndex === lessonQuestions.length - 1 && nextBtn.textContent === 'Next') {
Â  Â  Â  Â  Â  Â  nextBtn.disabled = true;
Â  Â  Â  Â  Â  Â  nextBtn.textContent = 'Finish';
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  function updateProgress() {
Â  Â  Â  Â  const total = lessonQuestions.length;
Â  Â  Â  Â  const current = currentQuestionIndex + 1;
Â  Â  Â  Â  progressIndicator.textContent = `TÃ³pico ${current} de ${total}`;
Â  Â  }

Â  Â  function updateSideMenuHighlight() {
Â  Â  Â  Â  document.querySelectorAll('.side-menu a').forEach((link, index) => {
Â  Â  Â  Â  Â  Â  link.classList.remove('active');
Â  Â  Â  Â  Â  Â  if (index === currentQuestionIndex + 1) { // +1 porque o primeiro link Ã© a Home
Â  Â  Â  Â  Â  Â  Â  Â  link.classList.add('active');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  }

Â  Â  function navigateToQuestion(index) {
Â  Â  Â  Â  selectedOption = null;
Â  Â  Â  Â  answerChecked = false;
Â  Â  Â  Â  loadQuestion(index);
Â  Â  }

Â  Â  function goNext() {
Â  Â  Â  Â  if (currentQuestionIndex < lessonQuestions.length - 1) {
Â  Â  Â  Â  Â  Â  navigateToQuestion(currentQuestionIndex + 1);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  alert('ParabÃ©ns! VocÃª concluiu o MÃ³dulo Beginner ' + currentChapter + '!');
Â  Â  Â  Â  Â  Â  showScreen('home'); // Volta para a tela inicial
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function backQuestion() {
Â  Â  Â  Â  if (currentQuestionIndex > 0) {
Â  Â  Â  Â  Â  Â  navigateToQuestion(currentQuestionIndex - 1);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // --- LÃ³gica de CorreÃ§Ã£o para MÃºltipla Escolha (PadrÃ£o) ---
Â  Â  function selectOption(element, key) {
Â  Â  Â  Â  if (answerChecked) return;
Â  Â  Â  Â  
Â  Â  Â  Â  // Remove a seleÃ§Ã£o anterior
Â  Â  Â  Â  document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
Â  Â  Â  Â  
Â  Â  Â  Â  // Adiciona a nova seleÃ§Ã£o
Â  Â  Â  Â  element.classList.add('selected');
Â  Â  Â  Â  selectedOption = key;
Â  Â  Â  Â  updateNavButtons();
Â  Â  }

Â  Â  function checkMultipleChoiceAnswer() {
Â  Â  Â  Â  if (!selectedOption || answerChecked) return;

Â  Â  Â  Â  const correct = lessonQuestions[currentQuestionIndex].correctAnswer;
Â  Â  Â  Â  answerChecked = true;
Â  Â  Â  Â  
Â  Â  Â  Â  document.querySelectorAll('.option').forEach(opt => {
Â  Â  Â  Â  Â  Â  const optionKey = opt.getAttribute('data-answer');
Â  Â  Â  Â  Â  Â  opt.classList.remove('selected');

Â  Â  Â  Â  Â  Â  if (optionKey === correct) {
Â  Â  Â  Â  Â  Â  Â  Â  opt.classList.add('correct');
Â  Â  Â  Â  Â  Â  } else if (optionKey === selectedOption) {
Â  Â  Â  Â  Â  Â  Â  Â  opt.classList.add('incorrect');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  opt.style.pointerEvents = 'none'; // Desabilita cliques apÃ³s a checagem
Â  Â  Â  Â  });

Â  Â  Â  Â  if (selectedOption === correct) {
Â  Â  Â  Â  Â  Â  feedback.textContent = 'Correct! âœ…';
Â  Â  Â  Â  Â  Â  feedback.style.color = '#28a745';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  feedback.textContent = `Incorrect. The correct answer is ${correct}. âŒ`;
Â  Â  Â  Â  Â  Â  feedback.style.color = '#dc3545';
Â  Â  Â  Â  }
Â  Â  Â  Â  updateNavButtons();
Â  Â  }
Â  Â Â 
Â  Â  // --- LÃ³gica de CorreÃ§Ã£o para Preencher Lacunas (Topic 7) ---

Â  Â  function checkFillInBlanksAnswer(index) {
Â  Â  Â  Â  const input = document.getElementById(`input-${index}`);
Â  Â  Â  Â  const resultDiv = document.getElementById(`result-${index}`);
Â  Â  Â  Â  const userAnswer = input.value.trim().toLowerCase().replace(/-| /g, ''); // Remove traÃ§os e espaÃ§os
Â  Â  Â  Â  const correct = input.getAttribute('data-correct').replace(/-| /g, '');
Â  Â  Â  Â  const originalCorrect = input.getAttribute('data-correct');

Â  Â  Â  Â  if (userAnswer === correct) {
Â  Â  Â  Â  Â  Â  resultDiv.textContent = 'âœ… Correct';
Â  Â  Â  Â  Â  Â  resultDiv.className = 'number-result result-correct';
Â  Â  Â  Â  Â  Â  input.disabled = true;
Â  Â  Â  Â  } else if (userAnswer.length > 0) {
Â  Â  Â  Â  Â  Â  resultDiv.textContent = `âŒ Correct: ${originalCorrect}`;
Â  Â  Â  Â  Â  Â  resultDiv.className = 'number-result result-incorrect';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  resultDiv.textContent = '';
Â  Â  Â  Â  Â  Â  resultDiv.className = 'number-result';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function checkAllFillInBlanks() {
Â  Â  Â  Â  const inputs = fillInBlanksContainer.querySelectorAll('input');
Â  Â  Â  Â  let allCorrect = true;
Â  Â  Â  Â  inputs.forEach((input, index) => {
Â  Â  Â  Â  Â  Â  checkFillInBlanksAnswer(index); // ForÃ§a a verificaÃ§Ã£o de todos
Â  Â  Â  Â  Â  Â  if (!input.disabled) {
Â  Â  Â  Â  Â  Â  Â  Â  allCorrect = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â  
Â  Â  Â  Â  if (allCorrect) {
Â  Â  Â  Â  Â  Â  feedback.textContent = 'All answers are correct! âœ…';
Â  Â  Â  Â  Â  Â  feedback.style.color = '#28a745';
Â  Â  Â  Â  Â  Â  nextBtn.textContent = 'Next';
Â  Â  Â  Â  Â  Â  nextBtn.onclick = goNext;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  feedback.textContent = 'Keep trying! See the correct answers highlighted in red. âŒ';
Â  Â  Â  Â  Â  Â  feedback.style.color = '#dc3545';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // --- LÃ³gica de Drag & Drop (Topic 8) ---
Â  Â Â 
Â  Â  function dragStart(event) {
Â  Â  Â  Â  event.dataTransfer.setData("text/plain", event.target.id);
Â  Â  Â  Â  event.target.classList.add('dragging');
Â  Â  }

Â  Â  function dragOver(event) {
Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  if (event.target.classList.contains('drop-zone') && event.target.children.length === 0) {
Â  Â  Â  Â  Â  Â  event.target.classList.add('drag-over');
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  function dragLeave(event) {
Â  Â  Â  Â  event.target.classList.remove('drag-over');
Â  Â  }

Â  Â  function drop(event) {
Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  event.target.classList.remove('drag-over');
Â  Â  Â  Â  
Â  Â  Â  Â  const data = event.dataTransfer.getData("text/plain");
Â  Â  Â  Â  const draggableElement = document.getElementById(data);
Â  Â  Â  Â  
Â  Â  Â  Â  // Verifica se Ã© uma zona de drop e estÃ¡ vazia
Â  Â  Â  Â  if (event.target.classList.contains('drop-zone') && event.target.children.length === 0) {
Â  Â  Â  Â  Â  Â  // Remove a palavra arrastada de onde ela estava (volta para o container principal)
Â  Â  Â  Â  Â  Â  if (draggableElement.parentElement.classList.contains('drop-zone')) {
Â  Â  Â  Â  Â  Â  Â  Â  const originalContainer = document.querySelector('.draggable-words-container');
Â  Â  Â  Â  Â  Â  Â  Â  originalContainer.appendChild(draggableElement);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Adiciona a palavra ao drop zone
Â  Â  Â  Â  Â  Â  event.target.appendChild(draggableElement);
Â  Â  Â  Â  Â  Â  draggableElement.classList.remove('dragging');
Â  Â  Â  Â  } else if (event.target.classList.contains('draggable-words-container')) {
Â  Â  Â  Â  Â  Â  // Permite arrastar de volta para o container principal
Â  Â  Â  Â  Â  Â  event.target.appendChild(draggableElement);
Â  Â  Â  Â  Â  Â  draggableElement.classList.remove('dragging');
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function checkDragAndDrop() {
Â  Â  Â  Â  const dropZones = document.querySelectorAll('.drop-zone');
Â  Â  Â  Â  let allCorrect = true;

Â  Â  Â  Â  dropZones.forEach(dropZone => {
Â  Â  Â  Â  Â  Â  dropZone.classList.remove('correct-drop', 'incorrect-drop');
Â  Â  Â  Â  Â  Â  const droppedWord = dropZone.querySelector('.draggable-word');

Â  Â  Â  Â  Â  Â  if (droppedWord) {
Â  Â  Â  Â  Â  Â  Â  Â  const correctTargetId = droppedWord.getAttribute('data-correct-target');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (dropZone.id === correctTargetId) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dropZone.classList.add('correct-drop');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  droppedWord.style.pointerEvents = 'none'; // Trava a palavra correta
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dropZone.classList.add('incorrect-drop');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allCorrect = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Mostra a palavra correta abaixo
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correctWordData = DRAG_AND_DROP_WORDS.find(w => w.correctTarget === dropZone.id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (correctWordData) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correctSpan = document.createElement('span');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  correctSpan.className = 'correct-word-display';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  correctSpan.textContent = `Correct: ${correctWordData.text}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dropZone.appendChild(correctSpan);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  allCorrect = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  if (allCorrect) {
Â  Â  Â  Â  Â  Â  feedback.textContent = 'All correct! âœ…';
Â  Â  Â  Â  Â  Â  feedback.style.color = '#28a745';
Â  Â  Â  Â  Â  Â  nextBtn.textContent = 'Next';
Â  Â  Â  Â  Â  Â  nextBtn.onclick = goNext;
Â  Â  Â  Â  Â  Â  // Trava todas as palavras
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.draggable-word').forEach(w => w.style.pointerEvents = 'none');
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  feedback.textContent = 'Some answers are incorrect. Try again! âŒ';
Â  Â  Â  Â  Â  Â  feedback.style.color = '#dc3545';
Â  Â  Â  Â  Â  Â  // Limpa os indicadores de correÃ§Ã£o incorreta para permitir nova tentativa
Â  Â  Â  Â  Â  Â  dropZones.forEach(dropZone => {
Â  Â  Â  Â  Â  Â  Â  Â  const correctSpans = dropZone.querySelectorAll('.correct-word-display');
Â  Â  Â  Â  Â  Â  Â  Â  correctSpans.forEach(span => span.remove());
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  }


Â  Â  // --- FunÃ§Ãµes de Ãudio e Modal (Topic 5) ---

Â  Â  function playAudio(src) {
Â  Â  Â  Â  const audio = document.getElementById('audio-player-controls');
Â  Â  Â  Â  audio.src = src;
Â  Â  Â  Â  audio.play();
Â  Â  }

Â  Â  function openNumberModal(type) {
Â  Â  Â  Â  const modal = document.getElementById('numberModal');
Â  Â  Â  Â  const modalBody = document.getElementById('modal-body');
Â  Â  Â  Â  let title = 'Numbers';
Â  Â  Â  Â  let tableBody = '';

Â  Â  Â  Â  const numberData = {
Â  Â  Â  Â  Â  Â  'one-to-ten': { title: 'Numbers 1-10', data: [['1', 'One'], ['2', 'Two'], ['3', 'Three'], ['4', 'Four'], ['5', 'Five'], ['6', 'Six'], ['7', 'Seven'], ['8', 'Eight'], ['9', 'Nine'], ['10', 'Ten']] },
Â  Â  Â  Â  Â  Â  'teens': { title: 'Teens (11-19)', data: [['11', 'Eleven'], ['12', 'Twelve'], ['13', 'Thirteen'], ['14', 'Fourteen'], ['15', 'Fifteen'], ['16', 'Sixteen'], ['17', 'Seventeen'], ['18', 'Eighteen'], ['19', 'Nineteen']] },
Â  Â  Â  Â  Â  Â  'tens': { title: 'Tens (20, 30, ...)', data: [['20', 'Twenty'], ['30', 'Thirty'], ['40', 'Forty'], ['50', 'Fifty'], ['60', 'Sixty'], ['70', 'Seventy'], ['80', 'Eighty'], ['90', 'Ninety'], ['100', 'One Hundred']] },
Â  Â  Â  Â  Â  Â  'combined': { title: 'Combined Examples', data: [['21', 'Twenty-one'], ['45', 'Forty-five'], ['73', 'Seventy-three'], ['99', 'Ninety-nine']] }
Â  Â  Â  Â  };

Â  Â  Â  Â  if (numberData[type]) {
Â  Â  Â  Â  Â  Â  title = numberData[type].title;
Â  Â  Â  Â  Â  Â  numberData[type].data.forEach(([num, word]) => {
Â  Â  Â  Â  Â  Â  Â  Â  tableBody += `<tr><td>${num}</td><td>${word}</td></tr>`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  document.getElementById('modal-title').textContent = title;
Â  Â  Â  Â  modalBody.innerHTML = `
Â  Â  Â  Â  Â  Â  <table class="info-table">
Â  Â  Â  Â  Â  Â  Â  Â  <thead><tr><th>Number</th><th>In English</th></tr></thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody>${tableBody}</tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  `;
Â  Â  Â  Â  
Â  Â  Â  Â  modal.classList.add('show-modal');
Â  Â  }

Â  Â  function closeNumberModal() {
Â  Â  Â  Â  const modal = document.getElementById('numberModal');
Â  Â  Â  Â  modal.classList.remove('show-modal');
Â  Â  }
Â  Â  window.closeNumberModal = closeNumberModal; // Torna global para o onclick no HTML

Â  Â  // --- FunÃ§Ãµes de Menu (Sidebar) ---
Â  Â  function openNav() { sideMenu.classList.add('open'); }
Â  Â  function closeNav() { sideMenu.classList.remove('open'); }
Â  Â  
Â  Â  // Fecha o menu lateral e o modal se clicar fora
Â  Â  window.onclick = function(event) {
Â  Â  Â  Â  if (sideMenu.classList.contains('open') && !event.target.closest('.side-menu') && !event.target.closest('.menu-toggle')) {
Â  Â  Â  Â  Â  Â  closeNav();
Â  Â  Â  Â  }
Â  Â  Â  Â  const modal = document.getElementById('numberModal');
Â  Â  Â  Â  if (modal.classList.contains('show-modal') && !event.target.closest('.modal-content-wrapper') && !event.target.closest('.hotspot')) {
Â  Â  Â  Â  Â  Â  closeNumberModal();
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // Coloca as funÃ§Ãµes que o HTML precisa chamar no escopo global
Â  Â  window.startLesson = startLesson;
Â  Â  window.goNext = goNext;
Â  Â  window.backQuestion = backQuestion;
Â  Â  window.navigateToQuestion = navigateToQuestion;
Â  Â  window.checkAnswer = selectOption; // Muda o nome para 'selectOption' para refletir a aÃ§Ã£o
Â  Â  window.checkMultipleChoiceAnswer = checkMultipleChoiceAnswer; // Nova funÃ§Ã£o para o botÃ£o "Check"
Â  Â  window.openNav = openNav;
Â  Â  window.closeNav = closeNav;
Â  Â  window.openNumberModal = openNumberModal;
Â  Â  window.checkFillInBlanksAnswer = checkFillInBlanksAnswer;
Â  Â  window.checkAllFillInBlanks = checkAllFillInBlanks;
Â  Â  window.playAudio = playAudio;
Â  Â  window.dragStart = dragStart;
Â  Â  window.dragOver = dragOver;
Â  Â  window.dragLeave = dragLeave;
Â  Â  window.drop = drop;
Â  Â  window.checkDragAndDrop = checkDragAndDrop;
Â  Â Â 
Â  Â  // --- InicializaÃ§Ã£o ---
Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  renderChapterCards();
Â  Â  Â  Â  showScreen('home');
Â  Â  });
</script>

</body>
</html>
